
ids = %w(
409000561
409000561
409000731
400011743
400101506
400102790
402001109
402001107
402004510
402005261
403010099
409001413
409001431
409000570
409001414
409001552
409003047
409003004
409003009
409003011
409003025
409003023
409003049
409002982
409002984
409002983
409002479
409002365
409002473
409002501
409002495
409002383
409002481
409002412
409002424
409002438
409003029
409003043
409003048
409003050
409003005
409003006
409001545
409001546
409001685
410004450
410003991
410005073
410001304
410001313
410001345
410001302
410004160
409002050
409002061
410001621
410006159
410006159
410006171
410006171
410006160
410006160
410001257
410001226
990046266
400014688
400110851
400014685
400014686
402009648
402009652
402009653
402009883
402009997
402009608
402010004
402010030
402010058
402010797
402010804
402010806
402010807
402010812
402010909
402010090
402010168
402010528
402010083
402010313
402010514
402010546
402010919
402011043
402011078
402009531
402009573
402009576
406000033
404000181
404000182
404000193
404000201
)


ids.each do |id|
    s = Source.find(id)

    s.marc.each_by_tag("856") do |t|
        found = false
        t.fetch_all_by_tag("z").each do |tn|
          found = true
        end

        if !found     
            t.add_at(MarcNode.new("source", "z", "IIIF manifest", nil), 0)
            t.sort_alphabetically
        else
            puts "urca #{s.id}"
        end
        
    end

#puts s.marc.to_marc

    #s.save
end
