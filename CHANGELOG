Muscat Changelog
================

v 11.5
* Bump passenger from 6.0.23 to 6.0.26
* Scripts for ICCU dups and Corago
* Add handy siglum-contains
* Merge pull request #1718 from rism-digital/dependabot/bundler/passenger-6.0.26
* Fix #1714, and some impros to the dup script
* Script to fix duplicate items in 245
* Update SourceLabels.yml
* Add validation for orphan 773
* #1725 Make the validator actually validate 773
* Fix the 773 test script
* It fails if there are the leading 0000
* Bump rack from 3.1.10 to 3.1.12
* Improve the un-000 script
* Add handy diffy tool
* Bump uri from 1.0.2 to 1.0.3
* Merge pull request #1726 from rism-digital/dependabot/bundler/rack-3.1.12
* Merge pull request #1727 from rism-digital/dependabot/bundler/uri-1.0.3
* Merge pull request #1724 from rism-digital/jenniferward-patch-1
* Remove obsolete code
* Use MD
* Fish non english GLs from legacy
* Remove ap
* Fix help for GND Works
* Fix #1729, make $u untouchable
* Fix #1730, add 910 to source
* #1731 link to source show and not edit
* Don't remove the guidelines backend just yet, add a permanent redirect
* Fix fname cleaning
* Unmake $t mandatory in gnd_work
* GND: Switch to subfield_secondary
* Update _work_nodes_help_show.en.md
* Try to fix GND ids
* Gnd: fix #1733
* Bump nokogiri from 1.18.3 to 1.18.4
* Merge pull request #1737 from rism-digital/dependabot/bundler/nokogiri-1.18.4
* Merge pull request #1732 from rism-digital/jenniferward-patch-2
* Switch GND autocomplete to subfield_secondary, match 100 and 130, reorder fields in 130
* #1741 add and reorder fields
* Add script to export marc records as html
* Add obpa
* Add the partittive Oberbegriff
* Make sure gnd work tag config follows form options
* Make sure that when exporting records, if a record is deleted it is actually skipped... Also print the correct name
* GND Work order 382
* Some minor fixes to GND, #1742
* Change to Link to record in Gaspari online
* Update marc 008 for authorities (position 14)
* Merge pull request #1745 from rism-digital/lpugin-patch-1
* Remove 056 from GND
* Make Form autocomplete more verbose
* Merge pull request #1746 from afaschon/patch-2
* Merge pull request #1748 from afaschon/patch-3
* Merge pull request #1749 from afaschon/patch-4
* Merge pull request #1750 from afaschon/patch-5
* Merge pull request #1751 from afaschon/patch-6
* Merge pull request #1752 from afaschon/patch-7
* Merge pull request #1753 from afaschon/patch-9
* Merge pull request #1754 from afaschon/patch-10
* Merge pull request #1755 from afaschon/patch-11
* Apply RISM overrides to I-Bc stuff
* Bump nokogiri from 1.18.4 to 1.18.8
* Merge pull request #1759 from rism-digital/dependabot/bundler/nokogiri-1.18.8
* Fix #1741
* Fix #1756, add a huge amout of languages
* Fix #1758, add "ara"
* Add private collection fix #1735
* Add proper linking to 596 #1721
* Fix #1492 add rule for http
* Update locales
* Prepare landing page for release
* Use the correct spelling for Guidelines in each language

v 11.4.1
* Backport: fix cyan

v 11.4
* After modifying non-marc authority files, show modified record
* Display record owner for all non-marc authority files
* Display wf_stage in place authority records
* Fix Work Node relations non Work in notification
* Remove duplicate 383 for Works
* Fix #1629 protypens everywhere
* Logger function for marc.import
* Fix #1629 Polypens everywhere
* Rename inventory_editor to inventory_cataloger
* Fix *t28 protypen
* Temp fix for #1701
* Add InventoryItem box for Person and a new compact way to create them
* Switch source to the compact decl form
* Switch Liturgical Feast to the compact decl
* More short forms
* Mini-mods for CMO
* Fix #1703 Switch to 240 for title
* Fix #1702 GND Texts and translations
* Fix more labels for #1702
* Fix all the 040 $c
* Uppercase CMO
* Add 040 in CMO import
* Fix nil in pub title
* Fix nil in pub
* Make sure che export script does not crash if a source was deleted
* Remove the warning for 973 missing when exporting prints
* Add source_id for holdings in 774
* Push locales
* Make the old migrations work in 2025
* Rename doc files
* Update links in README
* More installation instructions
* Remove the index, which does not work
* Initial refactoring of validate_tags
* Fix any_of to actually fail
* Latest fixes for CMO
* Fix publication default files
* Create CMO sec lit
* Make CMO script actually make proper lit
* Better relation count
* Fix the last protypens
* Set a better name for the version
* Open a new SOLR searcher to make commits visible after committing
* Initial implementation for better link counting
* Make sure all models will update links, and offer the possibility to suppress_update_count_trigger
* Make foreign_links reindex all models
* Remove unused publications_count_order
* Add compact form to publication
* Add Authorities counter to person
* Reorder the boxes
* Add compact form to institution
* Add all the missing relation boxes
* rename referring_objects_count to referring_objects_order to make ordering work
* Implement the cool "authorities" column everywhere
* Script to traverse all the relation tables and delete dead links
* Add inventory to 593$b holding
* Fix #921 and #1394, fix creation of holdings and fic 593$b in holdings
* Make the record type visible in the old versions
* Script to purge holdings attached to child records
* Fix wrong controller in link box
* Merge pull request #1698 from fjorba/display-wf-stage-in-place-authority-records
* Merge pull request #1697 from fjorba/display-wf-owner-in-all-non-marc-authority-records
* Merge pull request #1695 from fjorba/redirect-to-full-record-after-updating-non-marc-records
* Fix #1687, remove tags
* Fix #1686, remove 563 from libretto_edition_content
* Fix #1603 add tag 490
* Fix #1511, edit 026
* Update locales
* Update translations
* Create DE text for #1701
* Add simple exclusions to notifications
* Move 490
* Make sure sources_to_works is cleaned up
* Remove old work node relations
* Add box of links for publication
* Make sure that when copying tags the models match
* Bump net-imap from 0.5.1 to 0.5.6
* Fix #1709, remove automatic default excapint, some small scripts
* Make "mandatory" rules in an "any_of" group work in the backed validation
* Add all the basic pieces for #1707, including autocomplete but missing labels
* #1707 revert 505
* Merge pull request #1711 from rism-digital/dependabot/bundler/net-imap-0.5.6
* Fix #1272. add composite_volume for libretto_source and theoretica_source
* Merge branch 'develop' of https://github.com/rism-digital/muscat into develop
* Fix #1673 move 040
* Fix #1617, add better message for holdings
* Fix #1616 Add test for 588
* Update the validator
* Exclude subtags when they should be excluded...
* Better 588 validation
* This can never work!
* Add scripts to fix 588
* Rename script
* Remove section in 690$x  and add subfields to 691
* Add missing locales
* The infinite pursuit to perfect translations pt. 1
* The infinite pursuit to perfect translations pt. 2
* Merge pull request #1712 from rism-digital/develop-690-fix
* Disable autocompletes for now
* More locales
* Update the correction map
* Switch to array so duplicate entries work
* Give 690 $x a more appropriate name
* More translations
* Bump rack from 3.1.8 to 3.1.10
* Add option for hash
* Use a regex for more clever siglum matching
* Make the 588 validator very, very clever
* Fix again mandatory fields
* Update must_contain message
* Add the 588 message
* Fixes for GND
* Sort holdings also by shelf_maek
* Add 563 to the default tags
* Make the appendix tag work as expected
* Script to change cmp to att
* Remove unused check in work, inhibit paper_trail
* Make sure repeated tags and works work
* Move digital objects to holdings
* Fix #1689, switch cmp to att
* Bump nokogiri from 1.17.1 to 1.18.3
* Merge pull request #1713 from rism-digital/dependabot/bundler/rack-3.1.10
* Merge pull request #1715 from rism-digital/dependabot/bundler/nokogiri-1.18.3
* Fix DE help as in 79d1b6d

v 11.3.1
* 400 in WorkNode was removed
* Cherry pick source_work_nodes_relations fix
* Remove duplicate 383 for Works
* Fix Werktiel

v 11.3
* Fix #1662, add new display for the WorkNode title
* Add shelf_mark to holdings
* Initial script for #1666
* #1675 and #1663, add district and country to autocomplete, and add them to validates_uniqueness_of, make all valued null by default from AA so it works too
* #1675 swap country and district in the list view
* Fix mismatch in NotificationMatcher, remove mod trigger from MarcNode and remove obsolete column specification
* Add composer to WorkNodes
* Index composer for WN
* Make ordering work in AA
* Make WorkNode autocomplete match tokes in the middle of the phrase
* #1676, map contains to cont
* Make 024 mandatory #1677
* #1677 add composer to autocomplete, fix labels
* Remove all the deprecated fields from WorkNode, #1677
* Add initial work node help (en and fr)
* Add script to automate exports
* Bump rails-html-sanitizer from 1.6.0 to 1.6.1
* Merge pull request #1682 from rism-digital/dependabot/bundler/rails-html-sanitizer-1.6.1
* Switch to dartsass-sprockets instead of sassc-rails
* Merge branch 'develop' of https://github.com/rism-digital/muscat into develop
* Update some of the gems
* Update rails to 7.2 and ransack too
* Update the rest of the gems
* Fix deprecated deprecator
* Switch all models to the new enum synthax
* #1673 Make sure the shared labels don't override the labels for each model
* #1674 add relators to 7x0
* #1674 Use only 246 for title
* Fix #1674 add all missing locales
* Fix #1684 add 383 Numeric designation to Works, + minor goodies
* Fix #1679, also fix display of superimposed labels
* Fix #1508, remove duplicate 383
* CMO Import
* Use the jump tables to optimize relattion size
* Preserve more CMO in notes
* Bump actionpack from 7.2.2 to 7.2.2.1
* Initial experimental logger for marc imports
* Try to make logging more machine readable
* Print logs...
* Merge pull request #1688 from rism-digital/dependabot/bundler/actionpack-7.2.2.1
* Use the proper tag for int note
* Reindex while creating
* Merge pull request #1678 from rism-digital/develop-work-node-help
* #1677 Script to remove empty 024
* #1677 Add more translations
* #1677 extend all work_node tables
* Fix migration #1677
* Fix #1505 unify control fields
* Fix #1498 add validation to 024 People
* Fix roles for future inventory_editor
* Add columns to work_node
* #1614 Actually add the leaders
* Add more debugging, but keep it out of 11.3
* Update labels
* Fix #1618, use built-in  Anchored::Linker.auto_link instead of old URL helper
* Merge pull request #1696 from rism-digital/HirschSt-patch-1

v 11.2.2
* Add script to check if 593 is missing
* Fix #1670 add all missing backward links to Inventory Items
* Fix #1668, take in account institutions without siglum (don't move 094 if there is none)
* #1671 Inventareintrag instead of Inventarartikel
* #1671 make key or mode shared, and remove all the references
* #1671 remove 598
* #1671 fix 852 missing label
* Fix #1667, add missing label for $a
* Fix #1672, restore AuthToken interface after upgrade to ActiveAdmin 3.2
* Fix #1671, number all the numbers in different amounts

v 11.2.1
* Bump rexml from 3.3.6 to 3.3.9
* Merge pull request #1659 from rism-digital/dependabot/bundler/rexml-3.3.9
* Fix book_id and has_incipits (insert angel emoji here)
* Fix #1217 remove {{brk}} from 031 anf 563
* Fix #1665, arriving this week with 11.3!
* Fix latest names
* Make folder filtering actually work
* Add some missing names coming from sec lit
* Fix the last elusive names in inventory import

v 11.2
* Update Gemfile
* Fix #1463 - > initial removal of composed_of
* Updates for 7.1
* Initial port to AA 3.2
* Make logs less verbose on development mode
* Gem fixes for 7.1
* Make Source work with new preducates https://github.com/activeadmin/activeadmin/pull/8010
* Fix more models for Ransack 4 and AA 3.2.2
* Initial fix for DigitalObjects for Ransack 4
* Gem updates for 7.1
* Test: reimplementation of composed_of for cleaner class layout
* Switch over to composed_of_reimplementation
* Add index to item_id
* Refine the composed_of impl
* Migrate more defaults to 7.1, update sunspot, remove sunspot_rails
* Finish migrating settings to 7.1
* Better SQL escaping
* Remove old init files
* Increment results to 1k on all models
* Experimental: copy results to clipboard
* Revert jquery-ui to 6.0.1
* Less ugly clipboard implementation
* Add icon and "toastify" class to notify user
* Hand made toastify is better
* If set to index when importing records, tell Solr to commit them
* Copy the edit link
* Ditch Uglifier and use Terser for JS compression
* Add i18n to record actions pulldown texts
* Tell the model to be (sunspot) indexed, if requested
* Add 008 to marc exports
* Change # to | (no attempt to code)
* Add additional created_at parameters
* Remove duplicating code in institution and person to_external
* Add created_at to work nodes too
* Make sure belongs_to is optional by default
* Merge pull request #1607 from rism-digital/develop-export-008
* Merge pull request #1606 from fjorba/record-actions-add-i18n-deprecated-deleted
* Merge pull request #1605 from fjorba/sunspot-commit-after-import-if-index
* Merge pull request #1602 from fjorba/slow-down-worker-sleep-delay-on-development
* Commit whitespace in Gemfile
* Remove Turbolinks
* Add xml-export script
* Merge pull request #1608 from rism-digital/develop-export-script
* Initial implementation of templates for Inventories
* Remove obsolete utf8=✓ to url parameters
* Initial scaffolding for InventoryItem
* Make sure empty items do get shown on the top of the sorted lists
* Very basic bringup ov InventoryItem
* Add relations for InventoryItem
* More pieces for linking
* Fix InventoryItem saving
* Add tell fields, proper labels
* Fix views and links to delayed jobs
* Fix linking to IIs
* Fix validation for source inventory
* Make 773 linking work, add colors and abbr names
* Add abilities for inventory_item
* Expeimental box to show IIs
* Add comment for deprecated_ids
* Some correct scripts
* Generate extra basic inventories from the inventories project
* Initial working version of the import script
* Institution translation
* Inventory catalogues to publication migration
* Fix catalogue mapping
* Properly convert revue titles
* Add missing display_name
* Add proper 650 links to inventory items
* Fix Christan Bergen
* Add more partials for formatting
* Fix StandardTerms
* Convert data from the XML FILES
* Translate images
* Add links to the single images
* Fix missing inventories
* Fix more manifests
* Proper conversion of the summary section
* Remove obsolete "_" id tag
* Migrate inventory_item 852 to 691 for proper bibliography
* Add incipits to inventory items, remove incipits from inventories
* Add translations for Inventory items
* Fix typo and more labels for IIs
* Add label for links section
* Fix labels in inventory view
* Add InventoryItem2InventoryItem to preserve "later entry" 775 links
* Add autocompletes and 775 selection
* Skip unfinished inventories
* Index RISM Book ids and add script to search them for inventories
* Remove more empty 710
* Add more translations
* Reindex IIs
* Add proper filtering and indexes
* Preserve the HMI user
* Add book_id filter
* Add some filters for internal note and siglum
* Add new matched institutions
* Make 040 the same for everybody
* Add more institutions
* Mini script to detect ID collisions
* Match even more institutions
* Add some missing translations
* Add has_incipit? filter for source
* Fix label view, remove obsolete fix for #559
* Merge pull request #1610 from fjorba/remove-utf8-check-from-urls
* Fix #1624, add 910 to People
* Fix #1623, add scoring to titles in works
* Fix #1621, add Turkmenistan to people
* Fix #1611, add XD-BO
* Add translations
* Restore tab-saving functionality with rails 7.1
* #1590 add 094 to institutions
* #1590 modify to_external
* #1590 script to fix institutions
* Fix #1620, return the current index of items
* Use option parser for the export script
* Process --legacy option
* Don't have the search if we are using ajax
* Merge pull request #1626 from rism-digital/develop-export-script
* #1622, add validation to make sure the first group is never "Additional printed material"
* Fix #1622 implement the backend part
* Fix #1615 refactor holding name
* Fix GND push
* Make GND retrieve reqiests fail gracefully if the result is empty
* Fix check_group validator
* Remove country code from language file
* Make hardcoded fields never enabled, use for 094
* Make 094 readable only by editors
* Add saudi arabia to ISO codes
* Remove 110g, make sure indexing works with 094a
* Add "Inventory" Content type and make sure it is selected in new records
* Remove 560 from II
* Merge pull request #1632 from rism-digital/ahankinson-patch-1
* Merge pull request #1631 from rism-digital/country-codes-fix
* Initial fix for triggers + editor_partial
* Remove fields from Source Inventory
* Remove subfield_hardcoded and consolitate all the functionality in the normal subfield partial
* Some utility scripts
* Marc21 view should have two spaces
* De-pikadize with ease!
* Make 094 closed by default, add validation
* Make some records not creatable by hand
* Former siglum -> former sigla
* Add some missing locales
* Fix email translation, and parse more pikado lines
* Fix InventoryIOtem 593 and 93x
* Add 240 as in Source for InventoryItem
* Add 787 to inventories
* Add all inventory missing tags
* Add link to standard title from inventory item
* Keep the 852s from inventories
* Add option for compound validation rules, on the road to solve #1128
* Add an index to wf_owner in sources
* Implement "any_of" in the backend validator
* Make backend validation messages a bit more friendly
* Remove spurious percent char
* Reorder locale files
* Add all the missing keys
* Add all the missing italian translations
* Fix the fr localization
* Fix keys in FR translation
* Fix the DE translations
* translate more missing de
* Fix the spanish translation
* Fix filter_textinipit
* Fix pt
* Fix pl
* Fix Catalan
* Lastly, fix EN and collect cookie
* Remove old and unused Themefinder keys
* Remove more unused keys
* Remove even more unused stuff
* Fix #1453 and #1637
* Add some basic guidelines for the GND stuff
* Fix #1638
* Fix #1639
* Fix #1640
* Implement #1641
* Fix #1642
* Order the gnd translations
* Fix #1643
* Implement #1644
* More stuff for the GND
* Script to fix the Protypens
* Make the backend valitation localized messages actually work
* Script to fix ungrouped tags
* Add the missing tags
* Fix missing DEBUG
* Fix #1616, all this mess for a - !
* Move to console.warn
* Add the temp string for must_match
* Refine the validation rules
* Fix #1645
* Merge pull request #1635 from fjorba/remove-extra-percent-char
* Fix #1646 reindex required for Publication sometimes, miracles happen and this time it is filtering the DOs
* Fix #1560, remove Doubtful, we have no doubts here!
* More Doubtful to remove
* Merge branch 'develop' into develop-11.2
* Fix #1543 add all the locales!
* Fix #1499
* Fix #1627 Add san marino
* Fix #1614 Use to_external marc
* #1613 Fix disappearing "select"
* Fix typo in relationship name
* #1613, make sure the filters are restored when a NEW window is opened and switched back (the filters were never set back to the originating * window)
* Change all the filter names ##1613
* #1613 remove obsolete filter_workaround
* Fix more problems with select window, rename name to short_name for pub #1613
* #1613 Rename name to full_name in institution
* Fix #1613, make sure the deselection works and removes session[:select]
* Avoid regeneration of ids
* Possibly more fixes for #1613, tab saving not workling in new_window_select
* Fix #1650 make exported 774 more fancy
* Fix #1650, add $a composer and $t title
* Add 667 with the pub src counter to Person
* Fix #1636
* Whew! that was a lot for a minor release

v 11.1
* Bump jquery-ui-rails from 6.0.1 to 7.0.0
* Bump actionpack from 7.0.8.1 to 7.0.8.4
* Add Saudi Arabia to Institution Country Codes list
* Merge pull request #1601 from rism-digital/update-saudi-arabia
* Merge pull request #1594 from rism-digital/dependabot/bundler/actionpack-7.0.8.4
* Merge pull request #1574 from rism-digital/dependabot/bundler/jquery-ui-rails-7.0.0
* Backport: better SQL escaping

v 11
* Add authority reference counters to secondary literature records
* Merge branch 'develop' into add-new-counters-for-secondary-literature
* Update Muscat saml SSO authentication to Rails 7
* Update gems
* Test for global session
* Experimental: implement tab based saving
* New experimental version with only one cookie
* Fix raw marc text export
* Add check for race condition
* Test: don't clear the cookies on a tab deselect
* Add the tab id when returning the tab store
* Manage duplicate tabs
* Update InstitutionLabels.yml
* Keep tha last used search
* Merge pull request #1555 from rism-digital/jenniferward-patch-1
* Merge pull request #1534 from fjorba/single-sign-on-update-patch-for-rails-7
* Merge pull request #1397 from fjorba/add-new-counters-for-secondary-literature
* Fix #1553, missing label
* Fix #1554, show "e" for each 856
* Fix #1545, remove scr in 700 and 710
* Fix #1500, remove unused and not shown field
* Fix #1532, rename to "validity"
* Fix #596, include all counters!
* Merge branch 'develop' into develop-multitab
* #1527, make filter clearing work
* Allow for unsorted subfield_select_codes values
* Basic user select implementation, for #1497
* Better implementation using flexdatalist
* Migrate to new user selection
* Implement user selection for folder and comments
* Fix double escaping of & in xml export
* Fix #1567, add missing mandatory fields
* Fix #1552, add attribution qualifiers
* #1564 Update ARK resolver to the proper link
* #1089 Rename all the labels! (first try)
* Merge branch 'develop-user-select' into develop
* Merge branch 'develop' into develop-multitab
* Fix #1089 normalise all labels
* #1550 add 377 language code in Works
* Create 99 users
* Ms to print test script
* Add script to replace random strings in tags
* #1571 initial implementation
* Implement #1571 for standard term
* #1571 Implement label for solr_terms
* #1571 update Gemfile
* #1571 Add counters for person 550
* #1571 exclude 730 from 240
* Update Gemfile
* Use the unused title_d field in StandardTitle
* SQL queries are already case insensitive...
* Fix StandardTerm ac
* Update app/assets/javascripts/tab_saver.js
* Experimental: remove _d items from sources
* Remove full_name_d from People and remove stale code
* Fix #1551, add 590 work catalog note
* Fix #1569, add $g and $i
* #1349, show only publications with short_name
* #1349, finetune ac length
* #1570 Make items stored to force them to update on saving
* Switch to another field for #1570
* Switch to publication catalog of works AC for work
* Fix #1576 add "fragment"
* Fix #1573, add batch action to change user, make the list contain up to 1000 entries
* Give the menu entry a proper name
* Fix #1577, add $c
* Update PublicationFormOptions.yml
* Add more validation for Person
* Prevent more empty publications
* Bump rexml from 3.2.6 to 3.2.8
* Add display_name to people
* Update PersonLabels.yml
* Merge pull request #1582 from rism-digital/suriname-correction
* Merge pull request #1580 from rism-digital/dependabot/bundler/rexml-3.2.8
* Merge pull request #1578 from rism-digital/jenniferward-patch-5
* Merge pull request #1581 from fjorba/add-display-name-to-people
* Disallow creation of works from 930 in source
* Make 675 in Works not create new records
* Move ISO country codes to a shared file
* #1579 remove Benin
* #1579 add tus in Publications
* Fix benin for Institutions
* Fix 930 autocomplete in sources
* Fix the xml marc root in export
* Remove the xml declaration by writing the root child and not the full document (not tested)
* Merge pull request #1588 from rism-digital/develop-fix-marc-export
* Fix #1587 add line breaks
* Fix non-parallel XML export too
* Experimental fix for #1586
* #1586 better messages
* Add I18n, make race condition less racey
* #1586 refine messages
* #1586 make all the editor error I18n with proper messages
* #1586 properly trap ActionController::InvalidAuthenticityToken errors to generate 401s
* Update Ms to Print script
* Fix missing label to owner autocomplete
* Fix #1593, 690 view
* Fix #1592 add Bolivia to SecLit
* Fix #1595, ignore punctuation in names
* Fix #1595 no need to print the names
* Fix #1081, migrate 856 y to z
* #1575 Initial script
* All the landing pages!
* Update translations
* Fix #1596 make 370 work repeatable

v 10.2
* Added work abilities for person_editors
* Bump nokogiri from 1.16.0 to 1.16.2
* Delete obsolete script
* Update PersonLabels.yml
* Update PublicationLabels.yml
* Update InstitutionLabels.yml
* Update SourceLabels.yml
* Update WorkLabels.yml
* Bump rails from 7.0.8 to 7.0.8.1
* Update PublicationLabels.yml
* Bump rack from 2.2.8 to 2.2.8.1
* Fix marcxml export across models
* Add validation for 670 in work and work weekly report
* Fix all validation for work, fix 031 $t
* Remove author name from exported versions
* In Ruby 3, a file no longer exists, but exist
* Merge pull request #1530 from fjorba/ruby3-file-exist
* Merge pull request #1520 from rism-digital/dependabot/bundler/rack-2.2.8.1
* Merge pull request #1519 from rism-digital/jenniferward-patch-6
* Merge pull request #1518 from rism-digital/dependabot/bundler/rails-7.0.8.1
* Merge pull request #1516 from rism-digital/jenniferward-patch-5
* Merge pull request #1480 from rism-digital/dependabot/bundler/nokogiri-1.16.2
* Merge pull request #1512 from rism-digital/jenniferward-patch-1
* Merge pull request #1513 from rism-digital/jenniferward-patch-2
* Merge pull request #1514 from rism-digital/jenniferward-patch-3
* Merge pull request #1515 from rism-digital/jenniferward-patch-4
* Merge pull request #1455 from rism-digital/abilities
* Add missing folder help files for Catalan and Spanish
* Merge branch 'develop' of https://github.com/rism-digital/muscat into develop
* Merge pull request #1533 from fjorba/add-folders-help-ca-es
* Remove unused captcha + configuration
* Remove unused geo-browser
* Fix #1517, add valitation to 024 in Work
* Fix #1521, add 856 to work
* Fix #1493, add validation for 856
* Fix #1081, add validation to people, change $y to $z and make script to fix the mess
* Fix #1529, make 430 non-linked
* Fix #1522, migrate all 7xx to 5xx and script to fix the data
* Add missing user help files for Catalan and Spanish
* Fix #1531, filter by 690
* Fix #1524, add new functions
* Fix #1501, add $9 and $u to 670 in work and person
* Fix #1522, move 530 to relations
* Fix  #1506, make sure all validations do run (learn to program, young Padawan)
* Make the mail report a bit nicer
* Make notifications for works work on each save
* Initial implementation for #1532
* #1532 fix de.yml
* #1532, add label to show
* Fix folder creation not working
* Reverse #1081
* Update Verovio to 4.1.0
* #1532 Add status tags
* Fix default error route
* Fix filter label
* Add status colors
* Fix #1528, add the proper class to 774 (773 already was ok)
* #1532, Switch dubious to doubtful, fix CA translation
* #1532 fix CSS
* Update locales
* Fix #1539, make sure magnifying glass works in Works
* Fix #1538, add growfields
* Fix #1537, make relator codes non repeatable.
* Fix #1524, arranger not arrangement
* Fix #1540, add $c in 100, EXPERIMENTAL! if it works bad, revert
* Fix ##1536
* Merge pull request #1535 from fjorba/users-help-text-ca-es
* Fix #1510
* Bump rdoc from 6.6.2 to 6.6.3.1
* #1528, make sure 774 does not user foreign_links
* Make 981 duplicated_from only keep the original ID in the chain and the last 4
* #1528 implement a new fix for this issue
* Add script to fix the 981
* Make better titles for Works
* Hide move and add button for 981
* Add specific filter for source ids
* Merge pull request #1541 from rism-digital/dependabot/bundler/rdoc-6.6.3.1
* Did I forget the changelog for 10.1?

v 10.1
* Fix some small issues
* Fix record types crashing everything in PL language
* Fix partials for reports
* Fix table name
* Fix the GND Work Editor permissions
* Fix #1482
* Add rescues
* Fix #1483
* Properly uncomment returns
* Fix typo
* Fix #1484, no doubts in muscat!
* Add more filters to works, fix #1481
* Implement "has incipit"
* Make folder display more nice (is this an overkill?)
* Fix #1485, move 775 to admin
* Remove 775 from SUB, Fix #1486
* Personal names: Move 667 to References and notes, Fix #1487
* Move arounf 667

v 10.0
* Allow more options for import_from_marc.rb
* Remove references to blacklight
* Update paper_trail
* Downgrade i18n to 3.9 so it works again, upgrade for another day
* Add some workaround to ActiveAdmin global new box-sizing inherit.
* Add gnd_works page with templates and partials
* Add routes to the gnd_works page actions
* Add editor profiles and marc related configuration for gnd works
* Add the GndWork and GndMarcWork classes
* Adjust the GND::Interface search and add retrieve
* Remove unused code and xsl in the GND::Interface
* Basic reloading of GND works
* Initial autocomplete implementation
* Activate editor validation, initial implementation for AC that preserves foreign value
* Add files for GND work labels and show
* Basic implementation of autocomplete through GND
* Add limit to the SRU query and the gnd id to the label
* Set a label for the instrument autocomplete
* Refactor GND::Interface.search and implement autocomplete for instruments
* Add master to 380 and adjust form options
* Disallow new on gnd work 100
* Adjust GND::Interface.search to return always a JSON object
* Update autocomplete to the proper version for GND
* Initial searching for people and works
* Fix search for work node
* Avoid a huge solr search if the gnd_id is nil
* Use proper filter_form spacing
* Make sure the search works without title
* Make the GND editor work with unknown marc tags and subfields
* Add wildcard for searches
* Add label file for WorkNodes
* Add default labels
* Show default labels based on configuration
* Sample labels for GND editor
* Adapt the marc editor to properly validate GndWorks
* Implement basic GND config
* Add option not to show "unknown fields" warning
* Make the autocompletes work
* Experimental GND push
* First functional implementation of GND saving
* Better GND saving and proper flash message, create GND works
* First functional GND with create capabilities.
* Add some localization
* Move all autocompletes to the inline_autocomplete
* Allow import_from_marc to import other Marc types, and optional arguments
* Restore Holding and Work to the valid models
* Add read ability for gnd_work
* Use the right permission
* Merge a missing commit?
* Make the application boot with ruby 3.2.2 and rails 6.1
* Update jquery
* Make Muscat boot with rails 7
* Remove already commented out download_links.rb
* Remove link to BL
* FIXME temp removal of saml stuff
* Allow items to be added and removed from folders
* Add the sidebar view
* Make fields in GND works all editable
* Add $p and $n to title summary for GND node
* Add more missing GND fields
* Add field 130 for GND editor
* Initial Autocomplete implementation fro Form in GND editor
* Fix form autocomplete
* Add "p" for gnd work 100
* Save list of last created IDs
* Make sure to save id only if there is an id
* Extract author and title
* Move current filter information at top of sidebar
* Merge pull request #1160 from fjorba/import-from-marc-take-options
* Add d-mbs matching scripts
* Fix 700 in institutions
* Make error message more clean
* Implement #1445
* Move db query from the viewer to a helper
* Small refinements to make 7.0.5 run
* Fix Holding view
* Merge pull request #1448 from fjorba/sidebar-move-current-filters-at-top
* Remove redundant "contains"
* Remove "contains"
* Re-add the missing routes for the GND editor
* Change gnd interface settings
* Fix bug when a new user is created the sidebar disappears if there is a validation failure
* Fix sample application.rb
* Test for adding prefix in to_xml
* Change host in SRU
* Update sru_spec.rb
* Add option for exporting a list of records
* Initial update to install doc
* Update schema for 7.0
* Fix #1459, add Ojibwa
* Update it translations
* Test with REXML
* Add libxml-ruby
* Use libxml in marc::to_xml
* Add collection parameters to calls to marc::to_xml
* Add `holdings/` prefix to merged `$3` in to_external
* Adjust to_xml to return a single record for the marc SRU access
* Fix #1460 add Jamaica
* Merge pull request #1438 from fjorba/add-remove-items-from-folders-v2
* Implement #1462 for testing
* Format the new folder actions
* Add labels for #1462
* Make 981 non deletable, and a shiny new partial for show
* Fixed: Missing replacement variable
* Merge pull request #1465 from rism-digital/fixed-replacement-variable
* #1462 implement duplication tracking in Work and Publication
* Fix #1075, Add obl. 12°
* Fix #1294, Search using magnifying glass in Secondary Lit
* Fix #1387, remove 041 $e
* Remove unused "columns" and "cols"
* Remove unused col* from person
* Remove col* from Institutions
* Remove col* from Publication
* Make Institution 700 nicer, fix IT translation
* Fix #1464, Add growtext to 667 in authorities
* Fix bluprint -> blueprint
* Initial implementation of #702, add DOs to holdings and show them
* #702 Title formatting enhancements
* #702 make Holdings selectable
* #702 Add locales
* #589 initial implementation
* Make the delete button automatically hide and show in the first group #589
* Add a paperclip icon for Holdings with a DO
* Make groups collapsable
* Filter holdings by Source id
* Make the comment more meaningful
* Fix #1329, add 730 to indexed fields
* Get master field from tag config, underscore model names
* Display subfield in Marc editor
* Create links to display Marc records in Marc and Marcxml
* Change Marc to uppercase (MARC21 and MARCXML)
* Change MARCXML icon to from "a" to </>
* MARC21 view: update font and colors
* Update app/views/marc/_show.html.erb
* Add spaces around subfields via css
* Draft installation instructions
* Avoid sorting to avoid comparison errors between Holding and Source
* Group relation tables in a new directory
* Remove all the outdated do_* stuff
* Extend sources_to_standard_titles table
* Extend sources_to_standard_terms
* Remaining Blacklight cleanup
* Fix .xml download, what happened to this file??
* Fix SRU xml generation
* Temp fix for sru html
* Extend sources_to_publications
* Fix #1445, move group and rename
* Extend sources_to_liturgical_feasts
* Extend sources_to_places
* Migrate fron CanCan (which is deprecated) to CanCanCan
* Bump puma from 6.3.0 to 6.4.2
* Refactor marc::to_xml to use a {} options parameters
* Add a deprecatedIds parameter to the SRU interface
* Merge commit 'a7e22e242fb5bb5836434b3a3a4f7edbbbf51396' into develop-deprecated-ids-option
* Update rmagik
* Merge pull request #1472 from rism-digital/dependabot/bundler/puma-6.4.2
* Merge pull request #1469 from fjorba/make-marc-formats-visible
* Merge pull request #1468 from fjorba/display-subfield-in-editor
* Merge pull request #1474 from rism-digital/develop-blacklight-cleanup
* Merge pull request #1456 from rism-digital/update-sru-interface
* Merge pull request #1475 from rism-digital/develop-deprecated-ids-option
* Extend holdings_to_institutions
* Update bundler to fix "Calling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated."
* Clean up gemfile
* Bump rails to 7.0.8
* Update the remaining gems
* Make sure the @tag is in the marc_config
* Add 130 in tag configuration for standard_titles/ prefix, actually make the @tag check work
* Extend holdings_to_people
* Extend holdings_to_publications
* Extend holdings_to_places
* Extend institutions_to_institutions
* Extend institutions_to_people
* Extend institutions_to_publications
* Remove unused institutions_to_standard_terms, which should have not existed in the first place
* Extend people_to_institutions
* Extend people_to_publications
* Extend people_to_people
* Drop unused tables
* Estend publications_to_people and publications_to_institutions
* Extend publications_to_places
* Extend publications_to_standard_terms
* Extend publications_to_publications
* Initial Work relation extensions megacommit
* Extend all work relations gigacommit
* Reorder declarations in models
* Make the maint record work for all models
* Fix linking ad add a script to generate triggers
* Revert strange stuff from marc_nodes
* Fix the non-marc triggers
* Add all the missing resave triggers
* Add basic controller
* Add script to resave all marc models
* Turns out we need "daemons" gem after all (for delayed_job)
* Extra basic data controller
* Add a mini model and AA controller to manage tokens since we get this for free from ActiveAdmin
* Basic 404s instead of a crash
* Set a proper title
* Fix MIME types
* Always enable passenger
* Fix #1467, Add a non-SRU MARC URL access
* Hopefully make the resave script don't explode
* Make the MIME types happy
* Respond with 405 for unknown methods #1467
* Add some eye-candy to the resave megascript
* Even more candy for the eye
* Fix typo and avoid crash...
* TEST: try to make the script more silent
* Fix stderr capture
* Fix default empty indicator for 599 in to_external
* Fix #1477, make MARC21 view use to_external not super elegant but does it for the moment
* Clean up obsolete SOLR stuff
* Make all tags end up in full text search
* Fix manifest creation (missing profile)
* Fix #1380 pull 599a also from holding record
* Fix missing labels for 500 in People
* #1344 Match default file in holdings
* Initial changelog
* Remove al last references to Blacklight opac
* Put MARC21 view in a box, FIXME find a better solution
* Escape $ in marc in a compatibile way to marcedit
* Localize new views
* Fix #1205 implement mapping for new fields
* Fix various missing indexed fields
* Fix ICCU link
* Fix #1205 add OCLC
* Change WorldCat URL
* Fix wrong message in folders, add authentication
* Improvements to Catalan and Spanish translations
* Add two more missing index items
* Fix "category" menu data not indexed
* Merge pull request #1479 from fjorba/improve-ca-es-translations
* Add the landing pages for 10
* Update crontab
* Refine cron scripts
* Add RVM calls
* Fix global var
* Add missing work node relations, make Maint script return data
* Fix messages in digital object actions
* Last second fixed: localize record_type filter, add abbreviation to record_type filter menu

v 9.4.2
* Updated rspecs with task
* Add DEL acronym for deleted records, unify translation files.
* Fix #1436, implement missing leaders, fix existing ones.
* Test implementation of MEI for works
* Add description for work digital obj link
* Test: Noto Sans Display
* Clean up a bit the destroy callbacks
* Fix division by 0 in SRU @ahankinson
* Small script to fix the "disappearing" list view on test systems
* Make better job for purging orphan items, put it in crontab
* Purging stuff does not really work perfectly yet
* Better purger implementation
* Add Catalan locale to the list of js languages
* Merge pull request #1442 from fjorba/unify-status-codes-translations
* Merge pull request #1450 from fjorba/add-catalan-to-js-i18n
* Merge pull request #1435 from rism-digital/develop-rspec

v 9.4.1
* Fix wrong relation in Work to composer
* Fix sru sigla search
* Fix #1444 add pat to relator codes
* Merge pull request #1446 from rism-digital/fix_sru
* Add Holding report to crontab, fix locales
* Make Noto Sans 100% back everywhere
* Make internal note 599 and 510 shown to everybody

v 9.4
* Updated sru index
* Merge pull request #1421 from rism-digital/develop_sru_index2
* Fix #1422 make the fix script better
* Test: fix for focus jumping around
* Editors should see all users in index
* More scripts for CH duplicates
* Added philipinnes to people countries
* Update HoldingBasicLabels.yml
* Update _help_text.en.md
* Merge pull request #1427 from rism-digital/jenniferward-patch-3
* Update en.yml
* Merge pull request #1428 from rism-digital/jenniferward-patch-4
* Fix old sru configuration
* Fix pollini import
* Merge pull request #1426 from rism-digital/jenniferward-patch-1
* Merge pull request #1424 from rism-digital/develop_person_conutry
* Merge pull request #1423 from rism-digital/develop_editor_abilities
* Merge pull request #1431 from rism-digital/develop_sru
* Finalize pollini, make incipits work
* Bump puma from 5.6.4 to 5.6.7
* Update translations
* #1374 Initial modifications for Holding report
* Fix the validator parts for non-Source models, #1374
* Fix hardcoded urls in validator
* Make the health report a bit nicer
* Fix #1415 Implement template-based items for subfield_select_codes, implement list given in ticket
* Fix #1414, add option to remove items from subfield_select_codes and implement ticket
* Fix #1432, add new regex
* Fix #1429, remove "fas" to follow MARC cose which uses Persioan
* Fix #1425, make match not case sensitive
* Fix #1416 Swith to Noto Sans for Muscat
* Fix #1408 and #1434, initial refactor of exporter for raw muscat data and other models
* Fix #1408, Fix #1434, implement raw marc and multiple different exported types
* Fix #1430, add help for DOs
* Add I18n for "help"
* Fix #1406, translations will come
* Fix #1409, strip data before validation also fix "new" for digital objects
* Fix #888, delete comments when a resource il deleted
* Finish implementation of ods import
* Merge pull request #1433 from rism-digital/dependabot/bundler/puma-5.6.7
* Show the user menu for users tha can see it
* Fix interpolation variable in PL
* Fix #1437, remove old 518$a autocomplete, add growfields

v 9.3.1
* Make id in html view clickable
* Added 240m to sru
* Fix #1356 Allow editors to view users
* Fix current folder filder behaviour and create a couple more
* In the folder filters, select only users with folders
* Do not allow the creation of folders of users
* Rename obsolete catalogues filter text to publications
* Merge pull request #1398 from fjorba/filter-catalog-should-be-filter-publication
* Merge pull request #1393 from fjorba/remove-folder-actions-for-users
* Merge pull request #1395 from rism-digital/develop_abilities
* Merge pull request #1390 from fjorba/add-new-folder-filters
* Fix #1412 make the server validation correctly validate mandatory tags
* Implement the exclusions as array to allow for duplicate keys
* Fix #1246, make sure the focus is returned on the 031 $p textarea
* Update gems to use new version of rails autocomplete
* #1411 add 046, remove obsolete fields, make validation really work
* #1411 add 370
* #1411 add 530
* Add translations for new work fields
* Fix #1410, add proper collation
* Fix #1369, add place in 710 $c for holdings too
* Fix #1386 make 024 required in institutions
* Fix #1418, properly link works
* Microfix for the offended works
* Add new window selection for 530 work
* Updated sru index
* Merge pull request #1421 from rism-digital/develop_sru_index2
* #1422 make person_id work
* Fix #1422 make the fix script better

v 9.3
* Implement $a and $b in institutions, v3 (thanks to fjorba!)
* Fill in corporate name in institutions table
* Bump rack from 2.2.6.2 to 2.2.6.4
* Experimental: Pick 031t from the indexed values in Source and not anymore in Standard Tile
* Fix #1354, Added some fields to CSV 
* Catalan translation fixes and improvements
* Merge pull request #1335 from fjorba/institutions-consider-subordinate-unit-v3
* Merge pull request #1359 from fjorba/catalan-fixes-1
* Escape data-scroll-target editor validation javascript element
* Merge pull request #1361 from fjorba/escape-marc-editor-data-scroll-target
* Merge pull request #1358 from rism-digital/develop_csv
* Merge pull request #1343 from rism-digital/dependabot/bundler/rack-2.2.6.4
* Bump nokogiri from 1.13.10 to 1.14.3
* Merge pull request #1355 from rism-digital/dependabot/bundler/nokogiri-1.14.3
* Remove unused pae field
* Add 699 (local) tag for work tags
* Adjust configuration for work tags
* Add "incipit-replace" tag type
* Make the "inline autocomplete" work with data from the backend, f.ex. data from 031t
* Make the inline_autocomplete work as a target for autocomplete_extra
* Remove new window search in incipits
* Add 599 internal notes from the incipit correct script
* Get notifications for Works, not WorkNodes
* Fix link to BNF catalogue
* Add support for duplicating a work
* Merge pull request #1378 from rism-digital/develop-works-duplicate
* Merge pull request #1364 from rism-digital/develop-works-add-tags
* Merge pull request #1377 from rism-digital/fix-bnf-uri
* Basic work tag filtering on Works
* Aviod crash when the global note is not there
* Add dome 650 scripts
* Add validation exclusion support
* Add exclusions to validation job
* Update 710c label and translations
* Switch to using Facets instead of Terms to get terms in a document
* Fix #1369 add Place also to 710 Publication
* Fix #1078 add script to dup 700 and 710
* Add the Pollini importer
* Update autocomplete gem and othe minor gems
* #1078 fix 7x0 also on holding
* #1078 push the complete version
* #1078 Make the scrpt more clever not tu dup empty $4 and to preserve the position
* Merge pull request #1379 from rism-digital/dependabot/bundler/jquery-rails-4.4.0
* Add actual validation to 593!!
* Validate institution between child and parent
* Fix #1384, add Folder name in name and mail
* Add docs for ValidationExclusions

v 9.2.1
* Merge #1378 to add duplication to works

v 9.2
* Add migration for utf8mb4_0900_as_cs
* Collapse 031
* Add validation for 031 $a
* Add more tags in 031 validation
* Fix #1197 add validation for 773
* #1350, Refactor 774 saving so when a 773 in a source is changed both old and new parent are updated.
* Make the validation logger create a new file
* set UTC timezione

v 9.1.2
* Add Catalan translation
* Add WorkNode $p
* Validate stale 774 links
* Make the missing master error include the object id
* Make validation work for institutions
* Fix #1337, add 592 to tags that go in holdings
* Fix emails for expiring folders
* Add missing label for expiring folders
* Fix #1333, link to institution goes to the actual linked institution
* Fix #1338, make $0 required when there is $4 in 700 and 710
* Fix #1336, remove 593 if we are moving an existing one
* Allow multiple shared confs
* Prevent template switch from restoring old versions
* Better folder expiration email formatting and message
* Throw file name in excpetion when loading yml configuration for editor
* Add trigger to subfield secondary
* Optiona puts patch showing file name
* Merge pull request #1339 from fjorba/catalan-translation
* Fix #1330 add hardcoded field and assign it to 031 $a
* Fix #1345, add standard title filtering
* Add properly translated filters for Standard Titles
* Update verovio to 3.15

v 9.1.1
* Add $d for 500 in people

v 9.1
* Rename description to title in publications
* Rename a minor variable related to description to title
* Rename description to title also for foreign keys
* Fix sorting for form and notes
* Add function to delete all work-to-work links
* Add person name and gnd-id to works.yml
* Add migration to rename work columns
* Change to opus and catalogue in model and active admin
* Add ordering and fix filtering fields
* Add link_status column
* More description to title renames
* Sync admin code for Person and Institution
* Add subtitle (245 $b) to title (245 $a) attribute
* Fill in username in seed values
* Fix #1305 Revert validation to 8.1
* Fix #1304, make VIAF searches complete
* Merge pull request #1303 from fjorba/seed-add-username
* Merge pull request #1289 from fjorba/add-subtitle-to-title
* Make NotificationMatches work with WorkNodes, TODO check for Works
* Bump rails-html-sanitizer from 1.4.3 to 1.4.4
* Merge pull request #1104 from fjorba/publications-rename-description-to-title
* Fix #1292 Merge branch 'master' into develop
* Fix #1309, delete catalogues table
* Fix #1293, show siglum in institution show page (why was it disabled in the first place?)
* Fix #1290, add B/VII
* Merge pull request #1308 from rism-digital/dependabot/bundler/rails-html-sanitizer-1.4.4
* Improve DIGITAL_OBJECT_PATH documentation with an example
* Recognize subunit as different from monograph in sources leader
* Add work catalogue flag to publication
* Add some migration to cleanup the db
* Adjust MarcWork::get_title to use 130
* Add metadata to sources_to_institutions, make it not updated automatically when a source is saved
* Merge pull request #1315 from fjorba/document-digital-object-path-config
* Merge pull request #1284 from fjorba/sync-admin-person-and-institution
* Fix #1316, add swa
* Fix #1313 Add chr
* Add validation for work node 024
* Merge pull request #1319 from fjorba/split-bibliographic-level-subunit-monograph
* Add migration to change work::marc_source to mediumtext
* Bump rack from 2.2.4 to 2.2.6.2
* Bump globalid from 1.0.0 to 1.0.1
* Remove 100$j for works
* Migration to add some indexes to works
* Add standard_term (duplicates not removed)
* Make deduplication work when one source is loaded
* Ignore housekeeping/work-mining
* Add support for booleans in _with_integer SOLR queries
* Add 430 in Works
* Fix #1320 add Faroese
* Remove more old tables
* Add catalog list
* Fix #1323 add box with links
* Adjust the configuration for work 430
* Extend institutions_to_places
* Add 130a and 430a to work index (not working)
* Add ability for work_editor
* Fix #1325 add folder action to make publications catalogues
* Change filter for any field in works
* Use correct field for publication title, remove find in view
* Remove unused view
* Merge pull request #1321 from rism-digital/dependabot/bundler/rack-2.2.6.2
* Merge pull request #1322 from rism-digital/dependabot/bundler/globalid-1.0.1
* Fix #1325 add translations
* Add more translations, add icons for make_catalogue
* Fix #1324
* Fix #1327, add translations
* Add chr script
* Fix #1317, implement i18n in subfield_select
* Also localize the 593 $a and $b list in the source page
* Fix missing translations for Composite and Print
* Fix #1328 Set auto_increment to 5000
* Update verovio to 3.14.0

v 9.0
* Add tag configuration for work nodes
* Remove 383 and 690 from marc node config
* Add work node model as a plain copy of work
* Add marc work node as plain copy of marc work
* Add migration to add the work nodes tables and to migrate the data
* Add index configuration for work nodes copied for works
* Plain copy of admin work as work node
* Add form, layout, show and validation configuration for work nodes
* Add profiles for work nodes
* Change EditorConfiguration to handle compound class name
* Remove 930 from work node configuration
* Adjust sources to refer to work nodes
* Adjust the source form / show configuration to use work nodes
* Make sure incipit show works even with no digital object
* Basic GND search for work nodes
* Move xsl from viaf/ to gnd/
* Add missing .underscore in editor validation configuration
* Tidying up JS gnd interface
* Fix creation of new tags
* Remove spaces added before the indicators
* Modify raw drawing based on a JSON object with
* Adjust the GND import to return a JSON with the description and the link and label
* Add get_composer_name to MarcWorkNode
* Add I18n for select button, skip records with no 100
* Strip unicode &#152; and &#156; quotes from GND MARC data
* Add migration to rename columns in works
* Rename work fields form and notes in the application
* Index 024 in Person to get GND ids in Solr
* Resolve Person $0 through gnd id
* PATCH to pass 100$0 correctly, TODO find a better fix
* Initial steps to refactor marc editor "editor" code
* Refactoy away marc editor tree manipulation functions
* Remove some stale code
* Initial direct XML load implementation
* Activate form validation
* Add route for work_nodes through sru
* Add to_external for work_nodes
* Fix duplicate marc tags when doing multiple searches, fix a missing "var" which caused a crash if the first element of the first search was selectable
* Move marc conversion code to GND module
* Use work_nodes when accessing works SRU interface
* Add additional $0 to 930 work nodes export
* Merge pull request #1295 from rism-digital/develop-work-nodes-experiments-sru
* Move osullivan
* Initial 930 removal script
* Add validation for work_nodes
* Make sure the notification trigger gets executed also for new records
* Send trigger notifications for new records
* Show the proper error when deleting holdings with 973
* Make the destroy errors redirect to the show page instead of the index
* Fix #1299, add arr
* #1297 add === to marc nodes to compare contents
* Make deduplication work
* Add method to find duplicates
* Integrate the deduplicator into auth_merge. Maybe auth_merge should be run as a background job?
* Try a different icon for move tags
* Avoid lock conflicts when re-saving authorities
* Add hashes to incipits
* Fix #1298, remove uniqueness in workgroup email

v 8.2
* WIP: Add `xx` to accepted values for name variants
* Fixed: Change translation key for `xx`
* Adjust values for 593 $a in Sources and Holdings
* Bump puma from 5.6.2 to 5.6.4
* Fix missing indicators with holding template
* Fix manifest script so non-muscat items can be created
* Fix #1260
* Fix crash when creating MS source
* Fix #1261 do not print an empty line if there is no PAE input
* Fixed: Siglum misspelling
* Merge pull request #1263 from rism-digital/siglum-misspelled
* Merge pull request #1264 from rism-digital/fixed-1099-name-variants
* Skip duplicates in incipit correction script
* Fix creation of new tags
* Bump rails-html-sanitizer from 1.4.2 to 1.4.3
* Merge pull request #1268 from rism-digital/dependabot/bundler/rails-html-sanitizer-1.4.3
* Bump rack from 2.2.3 to 2.2.4
* Merge pull request #1232 from rism-digital/dependabot/bundler/puma-5.6.4
* Merge pull request #1269 from rism-digital/dependabot/bundler/rack-2.2.4
* Update rails to 5.2.8.1
* Add filter for 593b
* Fix #1248 add "composite" for $b
* Add localization for content type
* Fix #1254 implement comments in dashboard
* Capitalize the model name
* #1272 add more constraints for Libretti and Theoretica
* Bump tzinfo from 1.2.9 to 1.2.10
* Remove "Composite" from the values in 593 $b
* Merge pull request #1277 from rism-digital/lpugin-patch-config-593b
* Fix #1270 sync $b values
* Initial implementation of username logins
* Add disabling, automatic create script, add to index and list
* Fix "default email" in mailer
* Validation should not fail on unicode chars, make the script work in all cases
* Add emails to workgroups
* Make sure users properly redirect when deleting their holding records
* Fix #1280, adieu! delete ability for holdings
* Initial implementation if Folder expirations
* Add CSS for status_tag
* Add "folder" relationship to users, some refinements to the dashboard, job sleleton
* Fix #1229 adjust the default files
* Fix #1228 Adjust the values to the latest consensus
* Add default values for holdings
* Make folder expiration date 6 months, musicat import script
* Add a real message to the folder mailer, add MEI import to musicat
* Fix #1185 extend sources_to_institutions
* Merge pull request #1273 from rism-digital/dependabot/bundler/tzinfo-1.2.10
* Add scraps to the scrapbook
* Add some utility scripts
* #1240 add help to folders
* Mailcatcher should be commented out
* Add FolderExpirationJob to crontab, remove unused cronotab
* Update all the locales
* Merge pull request #1281 from rism-digital/jenniferward-patch-1
* Merge pull request #1282 from rism-digital/jenniferward-patch-1
* Add "access denied" message to varions models
* Add italian translation for folder help
* Make the "reindexing" message localized
* Fix #1278, handle case where notifications is NULL
* Add expiration icon
* Add workaround to blacklight crash
* Add "shelfmark" filter in sources as it is il BL
* Properly set relator_code for sources_to_institutions
* Add installation instructions for nginx, make error message more clear
* Re-add the logo3
* Merge pull request #1285 from rism-digital/jenniferward-patch-2

v 8.1.4
* Fix #1271 skip the diva-added input
* Update Verovio to 3.11.0

v 8.1.3
* Fix #1265, user the correct user reference
* Fix #1267, add index
* Cherry pick patch #1261, and fix issue
* Fix #1256, add fallback for nil indicator
* Initial fix for #1266, make all HTML escaped
* Fixes to the translations

v 8.1.2
* Fix manifest script so non-muscat items can be created
* Fix #1260
* Fix crash when creating MS source

v 8.1.1
* Fix typo and update verovio to 3.10

v 8.1
* New validation for 100
* Added mandatory 852
* Fix #1210 strip whitespace from marc tags when loading from json
* Fix #1223, move 510
* Fix #1220 fix values in 240g, use the terms for the popup menu
* Fix duplicate link to publication, fix labels
* Add easy functionality to covert a manuscript to a print
* New fix for redirect after login
* Fix #1225, remove "A/II"
* set -> material_group
* Fix #1230, permit logged it users to change details without re-entering password + confirmation
* Update locales
* Fix #1208, add codes
* Add MUSCAT_PARALLEL_JOBS
* Show IIIF items in /admin
* #1231 Add codes and translation
* Fix #1231 add dak
* Add more items to the export job
* Fix #1222, show incipit also when there is no notation
* Fix #1231 Update translations
* Fix #1084 Change DnD behaivour
* #1084 change icon and move as first button
* Added albania codes
* Cleanup lang files and add new translations
* Do not show diva for non-sources
* Add translations for Albania
* Make lang codes mul and und available to all auth files
* Fix #1242 add B/VIII
* Update FR locale
* Fix #1238, in diff view skip empty tag groups, to still allow tagless groups in marc show
* Fix #1237, add Cree
* Fix #1084 Properly move 774s
* Fix #1241 Make the deletion messages all the same
* Use CaffeineCache and async
* Small refinements to import correct
* Add gems for ODF import
* Fix #965, make sure removing items from folders does not kill muscat
* Basic implementation of holding table (requires reindex)
* Add methods to user interface for statistics
* Try to optimize the Muscat indexer
* Make the tabs nicer
* Optimize the batch size
* Experimental light-wheigh source index
* Make the statistic page download the right file
* Fix #1245 add 787 to collections
* Fix #1247 add "congress" to Institutions 368$a
* Read tags from CSV, add id to sequence and change paths
* Add 541 to selected tags to be copied into holding #1249
* Make make_manifest more pretty
* #1249 Improvements to template change
* #1249 Add "cancel" button to page
* Update comment_notifications.rb
* Also index holdings!
* Removing 599 from holdings export
* Add missing translation
* Improve incipit correct script
* Fix #1249, Add excludes for 852c
* Remove all the boilerplate full_text indexes from the index config, they are indexed now in one go
* This line created a FrozenLitera exception, it is redundand anyways
* Fix #1250, also remove references to HSL

v 8.0.4
* REVERTED! Bump nokogiri from 1.12.5 to 1.13.3
* Fix diva display for IIIF links
* update changelog for 8.0.3...

v 8.0.3
* Removed "Digitalization" and "IIIF" from 865x in holding/source
* Added "Digitized", "IIIF Manifest (digitized source)" and "IIIF Manifest (other)" in 856x
* Updated Verovio to 3.9
* Updated all translations


v 8.0.2
* Exclude linked -zsh field from import everywhere
* Merge pull request #1198 from rism-digital/8.0-fix-viaf
* Fixed: Add Themax jar path
* Merge pull request #1203 from rism-digital/add-themax-path
* Bump puma from 5.5.1 to 5.6.2
* Include new translations + some utility functions
* Merge pull request #1214 from rism-digital/dependabot/bundler/puma-5.6.2
* Disable SAML template
* Fix #1215
* Fix #1216, update Solr versions
* Update to rails 5.2.6.2 for CVE-2022-23633

v 8.0.1
* Update e-mail message
* Merge pull request #1184 from rism-digital/email-message-update
* Changing index field name
* Merge pull request #1188 from rism-digital/8.0-fix-sru
* #1192, fix self.resource.class
* #1192 Fix total in modification digest
* #1192 Fix load_saource in work, it would modify the marc data at save time and create a FrozenError
* #1192 Add ids to folders
* #1192 Update status_tag in comments to the new syntax
* #1192, fix call to saml auth in production, not the prettyest way for now
* #1192 reindex FolderItems, force a commit
* #1192 fix work count changed in 30cb4d6
* Fix #1190, make the sidebar static when there are holdings, we will find a better solution. Also ref in #1192
* #1192 revert guidelines to the proper version
* #1123 and #1192 re-add oth, fmo, dpt
* #1192 Add new translations
* Fix #1187 and #1192, add Belarus in MARC field 043
* Small folder enhancemet with updated_at

v 8.0
* Change source count to 856
* Add 383 and 690
* Add 856 to work
* local sunspot config
* AA 2.0: Controllers should use class.resource_class
* Ad back "published" status tag
* Add script to deleted all works
* Make our clear_filter patch work with the new implementation in AA 2.0
* Add extraction script
* Set AA version to 2.9
* Merge branch 'devel-work-experiments' of https://github.com/rism-digital/muscat into devel-activeadmin-2.0
* Automate non installation of therubyracer
* Revert "Automate non installation of therubyracer"
* Fix execjs
* Add sign in specs for devise's :database_authenticatable
* Merge branch 'develop' into feat/configurable_single_sign_on
* Doc: update sp_entity_id value in generator template
* Merge branch 'feat/configurable_single_sign_on' of ssh://github.com/CodiTramuntana/muscat into feat/configurable_single_sign_on
* Very initial commit
* More refinements to the change view
* Add css
* Merge branch 'develop' into devel-compare
* Refinements to the interface
* Add I18n and set javascript in a proper file
* Make translations work in JS
* Invert similarity and make the diff to the first available version
* Add proper date localization
* take in account empty versions
* Make sure the siglum exists
* Fix status tags for jobs, do not crash on rule not found in compare versions
* Fix rule overflow
* Merge remote-tracking branch 'upstream/master' into develop
* EXPERIMENTAL add markdown to guidelines
* Fix #728, 980$b order
* Reindex tests, Solr modifications
* Bump nokogiri from 1.11.7 to 1.12.5
* Merge pull request #1146 from rism-digital/dependabot/bundler/nokogiri-1.12.5
* Merge branch 'master' into develop
* Bump puma from 5.3.1 to 5.5.1
* Fix index rendering when a new incipit is added
* Add another option to login to the remote SAML IdP
* Doc: add doc on link to IdP's
* Merge remote-tracking branch 'upstream/develop' into develop
* Allow work Marc records to be imported
* Merge pull request #1149 from rism-digital/dependabot/bundler/puma-5.5.1
* Rename duplicated unique_records index
* Merge pull request #1152 from fjorba/allow-importing-work-records
* Merge pull request #1154 from fjorba/rename-duplicate-index-name
* Remove an extra comma in rename_index migration
* Merge pull request #1155 from fjorba/remove-comma-in-index-rename-migration
* Fix #1156, display of lib siglum for collections
* Add export incipit job
* Changed sru index
* Merge branch 'develop' of https://github.com/rism-digital/muscat into develop
* Rename revue_title to journal in Publications
* Properly order siglums
* Export only pub incipits
* Add link to 551
* Merge branch 'develop' of https://github.com/rism-digital/muscat into develop
* Merge branch 'feat/configurable_single_sign_on' of https://github.com/CodiTramuntana/muscat into CodiTramuntana-feat/configurable_single_sign_on
* Merge branch 'CodiTramuntana-feat/configurable_single_sign_on' into develop
* Merge pull request #1162 from fjorba/publications-rename-revue-title-to-journal
* Fix #1123, remove relator codes
* Fix #1158, add code
* Fix #1148, add code
* Fix #1141, remove facsimile
* Fix #1161, add $a to 773, minor refactoring
* Fix #1159, show wf_stage in diff and save it from folders
* Fix #1002, make the relator codes identical to source
* #1080 add the link to 551
* #1080 Add small script to resave People
* Make the 552 a bit more clever
* SAML needs to be present in production for eager_load to woek
* #901, initial and crude implementation of error display, CSS need fixing
* #901 first functional implementation
* #901 also push the worker
* Fix #732, make the sidebar floating ad add a "go to top" button
* Fix #1166 add Norwegian to 041
* Make the verovio worker a tad faster
* Add incipit scripts
* Fix #971, remove 563 $u
* Fix #1173, add triggers to StandardTerm
* Remove comments attribute from Person model and db
* #901, Add I18N to verovio
* Add some formatting to the error messages
* #901 fix typo, show errors on new 031s, avoid "width out of bounds" message
* Merge pull request #1177 from fjorba/remove-obsolete-comments-attribute-from-person-model
* Fix #1088 add relator code and marc tag to people_to_places
* Fix #1067, show links to external auth in 024 institutions
* Make CompareVersions only for editors
* #901 add localization for Verovio Messages from Crowdin + new messages
* #901 Add FR messages
* #901 Add IT messages
* Add more counters to Places
* Add relation view to Person view
* #978, add option to properly sort names
* #306, 690 implement search without diacritics

v 7.1.3
* #1118, make sure 588 does not appear where it should not
* Implement async verovio rendering
* Remove the notification diff, will exist only as the controller.
* Make uglifies happy with es6
* Add spinner for incipit loading
* Fix #1147, implement background Verovio rendering also for MEI files
* Fix #1145, show 598
* #1145 add group for coded instrumentation
* Ignore index files
* Added some country ISO codes to people
* Added surinam iso-country-code
* Remove 593 from validation until the field is refactored

v 7.1.2
* Update to rails 5.2.6
* Fix #1120, move 595 so it is displayed
* Update paper_trail
* Fix works not saving
* Add "follow" pattern to notifications
* Add more solr installation notes
* Fix #891 use better field analyzer for shelfmark
* Bump addressable from 2.7.0 to 2.8.0
* #1132 Add icon to holdings with digital images
* Merge pull request #1131 from rism-digital/dependabot/bundler/addressable-2.8.0
* Fix #1132 Add css
* Add "external resource" filter in source list
* Fix missing field for sunspot
* Make 856x from holdings searchable
* Fix #1125 and other translations
* Add redirect after a login
* Fix #1135, make sure 001 is preserved
* Fix autocomplete with the new subfield layout structure
* Cleanup javascript, avoid warning about items with the same name
* Fix #1137, do not display 787 as initial entry
* Fix #1136, completely remove 511
* Fix #1133, collections go only in composite volumes, also clean up the code a bit
* Fix #1118, add and remove tags
* Fix #1138, implement validation to avoid 787 and 773 pointing to themselves.
* Fix #1128 Add new validations
* Fix #1128, properly show errors on select items
* Show all subtags for 852, remove the partial, it was used for linking but that is done automatically now.
* Fix #516, make sure the + sign is only in the first element
* Properly localize the "delete tag" message in the marc editor
* Fix #1035 Add big warning for holdings missing
* Bump rdoc from 6.2.1 to 6.3.2
* Update Verovio to version 3.6.0
* Merge pull request #1139 from rism-digital/dependabot/bundler/rdoc-6.3.2
* Fix typos in translations, fix HOLDING WITHOUT SILGUM in de
* Update CSS for new error messages

v 7.1.1
* #1124 Fix 670 autocomplete
* #1124 Fix holdings :unapproved
* #1124 Skip "referring_source_relations" and "source_person_relations" jump tables
* #1124 Fix "inprogress" and "unpublished" legacy values in versions
* Force queries to be AND as it was with solr 5.5
* Fix user form not saving new users
* Add validation for 730 $0

v 7.1
* Increase allowed offset on SRU endpoint
* Add authmerge to StandardTitle
* Method to get the type of StandardTitle
* Avoid empty error messages
* Reorder publication.rb model like source.rb
* Indtroduced SITE_* configuration variables
* Use RISM::SITE_ID to choose title
* Bump redcarpet from 3.5.0 to 3.5.1
* Merge pull request #1051 from fjorba/sync-publication-model-with-source
* Merge pull request #1052 from fjorba/introducing-site-configuration-variables
* Merge pull request #1055 from rism-ch/dependabot/bundler/redcarpet-3.5.1
* Bump nokogiri from 1.10.10 to 1.11.1
* Merge pull request #1056 from rism-ch/dependabot/bundler/nokogiri-1.11.1
* Index :wf_stage in Publications like Source
* Fix edit link for sources in faceted search
* Fixed: Improved output of the IIIF manifest script
* Merge pull request #1059 from fjorba/fix-wrong-edit-link
* New maintaiance scripts
* Merge pull request #1058 from fjorba/publication-index-wf-fields-like-source
* Merge pull request #884 from miku/miku-increase-allowed-offset
* Merge pull request #1064 from rism-ch/fixed-improve-manifests
* Merge pull request #1068 from rism-ch/fix-manifest-generation
* Compatibility with Solr 8.8 (it still works on 5)
* Add Solr8 linux jar
* Change local_params to solr_params
* Fix fq for multiple fqs in query
* Merge pull request #1072 from rism-ch/7.1-sru
* Format solr_search to current formatting rules
* Fix schema for models
* Restrict et to admins and editors
* Rename "informazioni di possesso" to "esemplari" for comformity to other languages.
* Fix non foreign_link links (i.e. 773) so they are not hardcoded and come from configuration
* Add experimental migration to add 'id' to sources_to_sources so that activerecord can have a primary key
* Functional implementation of 787
* Add experimental source to person "extended" relation
* Merge branch 'develop-787' into develop
* Fix #1079, Fix can_edit? for collections
* Make the DB queries work on mysql 8.0.20
* Fix #1078 Make 700 and 710 $4 not repeatable
* Fix #1057, add oblong formats
* Fix #1071, add 691 $a to index
* Fix #1065, change default value for 024
* Fix #1063, add requested items.
* Fix #1054, add censor
* Fix #1060, remove symlink in public
* Fix #1053, add crude sorting method
* Fix #1049, move 597
* Fix #1045, add additional indexed fields
* Bump kramdown from 2.3.0 to 2.3.1
* FIx #1033, add search field for Source, Person and Institution
* Fix #1039, index references passing through holding
* Fix #1032, change the columns to ints
* Fix #1074 add tyd
* Fix #1074, add validation form 700 and 710 $0
* Fix #1074, update locales
* Fix #1091, remove unused wf_notes and wf_version
* Add colors to some buttons
* Change local variable name composer to full_name
* Merge pull request #1092 from fjorba/add-colors-to-some-buttons
* Merge pull request #1094 from fjorba/change-composer-variable-to-full-name-in-marc-person
* Merge pull request #1085 from rism-digital/dependabot/bundler/kramdown-2.3.1
* Fix #1027, rename name to short_name and fix controllers
* Merge pull request #1076 from rism-digital/7.0-devel-et
* Make job executor more clever, add better startup script
* Fix #1076: remove unused table
* Split the startup scripts in two appropriate ones
* Update to rails 5.2.4.5 to fix vunlerability in activerecord
* Fix bug when saving "belongs to" relations
* Add configuration to enable anonymous users to browse the site
* Test anonymous navigation config param
* Merge pull request #1096 from CodiTramuntana/use_muscat_without_signin_in
* Match prints in the notification digest
* Change 'Cataloghi tematici' to 'Bibliografia'
* Bump rexml from 3.2.4 to 3.2.5
* Fix #515, enable users changing password
* Implement notifications for works
* More clever notification manager
* Add record type to notifications
* More clever query parser for notifications
* Fix #77, grouped properties
* Add more features to NotificationMatcher
* Fix migrations that did not work anymore
* Create one user for each role in seeds
* Better notification rule parsing to include quoted words with spaces
* Add institution in modification notification
* Update EN help for notifications
* DOC: Update snipets with rake invokations
* Create indexes for created_at and updated_at in publications
* Merge pull request #1098 from rism-digital/dependabot/bundler/rexml-3.2.5
* Merge pull request #1097 from baccia/patch-1
* Merge pull request #1103 from fjorba/publications-add-index-to-timestamps
* Add more info to the maintainance report
* Fix the report view
* Use RISM::BASE_NEW_IDS[:publication] to initialize catalogues autoincrement
* Remove db/test.sqlite3 from version control
* Fix factory for user password
* Bump puma from 5.0.4 to 5.3.1
* Merge pull request #1105 from rism-digital/dependabot/bundler/puma-5.3.1
* Bump nokogiri from 1.11.3 to 1.11.4
* Merge pull request #1101 from CodiTramuntana/fix_installation_issues
* Merge pull request #1108 from rism-digital/dependabot/bundler/nokogiri-1.11.4
* Fix change API
* Better maintainance script layout
* Add sorting to folders
* Commit schema adding new items
* Add trigger for 100d in person
* #999 Move $i to $4, add labels
* #999 Comming tag configuration
* Fix #1100, add 031 to threatises
* Fix #682, add olim shelfmarks
* Bump rails version to 5.2.4.6 to fix a security issue.
* Fix #849, add popup
* Fix #969, make indicator selectable
* Fix unmodified modified string
* Fix #750, make links in comments real <a> links on display
* Fix #749, add source count in view
* Transform notification help files to MD
* Also rename DE file for translation
* Fix formattin in help file
* Very big overhaul of the Notifications interface to include I18n
* Fix #1107, Add Peru to Country of Publication in 044 in Secondary Literature
* Fix work objects not saving from the backend

v 7.0.3
* Temporarily hide 787 tag

v 7.0.2
* Fix asset compilation in 7.0.2: Merge pull request #1062 from rism-ch/fix-asset-precompile-7.0.2
* Fix links in catalog so they go to catalog searches
* Compress data in health report
* Make Edit link in Catalog point to SOurce 
* Make sure NULL users don't crash the email

v 7.0.1
* Fix a bug where the validation could be skipped
* Permit parameters in the cron job
* Fix #1038, add generalized method to show linked fields so we don't need many partials that do the same thing
* Fix #1037, reorder fields
* Fix #1036, Make 588 open and with validation in the required templates
* Fix #1030, make sure export and validation are there only for Source fodlers.
* Update translations, rename doc_images to doc_digital_objects
* Fix #1041, show MEI incipit ony in SOurces
* Properly format sender email address
* `art` relator code is Artificial and not Artist
* Fix #1048 (related to #1047), add English fallback for empty translations. Also make [unspecified] more specific: [cdt unspecified] and removed unused :edit_label.
* Fix #1047, fix translations
* Fix #961, add artificial
* Remove MARC awesome print plugin, it causes problems in some cases by duplicating data

v 7.0
* Init i18n for polish version
* Fix missing titles of subentries
* Avoid TypeError: superclass mismatch for class Command error
* Added status to std_title form
* Documentation cleanup and update Debian 10 requisites
* Add some missing languages
* Merge pull request #974 from fjorba/add-missing-languages
* Merge pull request #973 from fjorba/documentation-updates-including-debian-10
* Merge pull request #972 from fjorba/pin-thor-version
* Add always an agency at 040
* Allow edit other bibliographic records from Blacklight
* Add make in the deps
* Add more packages
* Merge pull request #976 from jacekiwaszko1/develop
* Fix actions menu translation
* Add some gems
* Document the Apache-itk option
* Polish translation added to polish-branch
* Updating sru index for institution
* Deprecate empty RISM::EDITOR_PROFILE
* Reorder catalogue.rb code like source.rb
* Allow $b in institution authority records
* Merge pull request #981 from jacekiwaszko1/polish-version
* Merge pull request #980 from fjorba/apache-itk-documentation
* Update tag_config_institution.yml
* Update 2- INSTALL.rdoc
* Restrict SRU to siglum
* Merge branch 'develop' into polish-version
* Institution index reconf and labels
* Fixed a lot of pl yaml invalides
* Fixed: conflicting language keys in SourceLabels
* Show size of related sources in institution export
* Merge pull request #977 from fjorba/allow-edit-other-record-types-from-blacklight
* Merge pull request #986 from fjorba/deprecate-empty-editor-profile
* Merge pull request #987 from fjorba/reorder-catalogue-code-like-source
* Merge pull request #997 from rism-ch/fixed-996-translations
* Fixed: Quote 'No' values
* Merge pull request #1012 from rism-ch/fixed-1011-quoted-values
* Merge pull request #988 from fjorba/institutions-allow-X10b
* Fix last issues with Polish, add it to the menu
* Initial test to attach XML files
* Fixed: Default to warning in production
* Fix default blacklight settings
* Document sample_application.rb variables
* Action to properly select incipits
* Initial implementation of MEI incipit display inline with the Incipit list
* Fix toolkit link
* Remove link files
* Remove the images box when there are only incipits
* Make the edit page work, show incipit preview
* Initial replacement for very annoying crono daemon
* Add 780 partial for catalogue
* Use the new configuration files for translations
* Update the sample_application to point to the new locale dire
* Merge branch 'develop' into develop-xml-incipit
* Add image, better translations and $u exporting in 031
* Add the css for the new image
* Add translations referring to digital objs
* Rename label to something more appropriate, new_digital_object_image
* Merge pull request #1021 from fjorba/sample-application-cleanup
* Merge pull request #1023 from rism-ch/catalogue_partial
* Merge pull request #1019 from rism-ch/default-production-loglevel
* Merge pull request #1020 from rism-ch/blacklight-solr-core
* Rename Catalog to Publication
* Change Catalogue to Publications in the views
* Rename catalogues to publications
* New: Move to standard Rails translation mechanism
* Merge branch 'develop-translations' into fixed-1004-languages
* Merge pull request #1026 from rism-ch/fixed-1004-languages
* Add --- !map:ActiveSupport::HashWithIndifferentAccess to make YAML load correctly
* Merge branch 'develop-xml-incipit' into develop-7.0
* Merge branch 'develop-rename-catalogue' into develop-7.0
* Merge branch 'develop-translations' into develop-7.0
* Remove crono, add real crontab for muscat
* Add missing gem
* Properly format the crontab file!
* Files in cron.d cannot contain spaces!
* Fix #983, add folder created_at
* Update to rails 5.2.4.4, enable therubyracer
* Decaffeinate a coffee script
* Remove ES6 synthax
* Make uglifier happy
* Update configuraition for debug mode
* Try to deprecate sass-rails
* Update rails coffee
* Push Gemfile.lock
* Fix line break
* Make marc_source in publications mediumtext, #972 and #1028
* Normalize some table names
* Also clean up the unused crono table
* Add works to reindex script....
* Fix #1009, remove "search sources" unused boxes (but leave the partial if we can use it in the future)
* Fix #1016, also move language codes to dedicated file
* #1014 and #1016, add missing language codes
* #971 remove 963 from Holding
* Fix #1008, remove new_window
* Fix #968, add 690 to theoretica
* Fix #960, B/VI
* Fix #959
* Fix #962, add 563 in Theoretica and Libretto source
* Fix #992 add items to institutions, translations are missing
* Tag config for #992
* Fix #984
* properly name referring_holdings
* Sync up translations with https://github.com/rism-digital/translations
* #992 add popup menu items
* Fix 510 "b' term
* Add logging capabilities to checkup report
* Properly name the report and remove limits
* Try to actually capture errors
* Better marc tag error reporting
* Avoid repeated messages
* Refine log srting
* Condense duplicate code
* Rollback formatting
* Use a more significant name for the logfile, add the record_type information in the log
* Incipit images are only for admin and editor, update translations
* Properly rename variables
* Fix again the variable
* Add error reporting in catch statement
* Fix country index for institutions
* Make all the debug messages consistent
* Fix the error message
* Add simple tags to error logs
* In #992 add $9
* Add initial dashboard messages
* Correct french version
* Update landing page translations
* Refine Italian
* Make links work, order language menu
* Change the priorities for the language menu
* Fix #992 add all the labels
* Fix #975, rename catalogues to publications

v 6.3.1
* Fix #963 "frozen string literal"
* Remove 856 $x from Catalogue validation

v 6.3
* Merge pull request #1 from fjorba/add-sqlite3-to-gemfile
* Minor corrections in the documentation
* Updating it translations
* Make sure to read the default profiles.yml
* Merge pull request #923 from fjorba/update-editor-configuration-docs
* Merge pull request #928 from fjorba/read-default-editor-profiles-yml
* Add suppress 77x to holdings
* Scripts for fixing CH composites
* Remove the 774s
* Make new empty collections
* Updating it translations
* Move holdings from edition to composite 852
* Provide a default template for records with unspecified record type
* Use get_marc_editor_profile_path to safely open conf files
* Experimental backend search engine for blacklight
* Initial MARC downloader for Blacklight
* Remove annoying delay in delayed_job
* Avoid rounding errors when reindexing
* Make the exported XML actually correct to the schema
* Merge pull request #934 from fjorba/provide-a-fallback-for-unspecified-record-type
* Merge pull request #936 from fjorba/generalise-fallback-to-default-file
* Move sqlite in the testing group
* New crono script for cleaning up exports
* Use conservative locking in delayed job
* A source should not be deleted while the job is running
* Bump puma from 4.3.3 to 4.3.5
* Add folder download action
* Add captcha validation
* Bump kaminari from 1.2.0 to 1.2.1
* Merge pull request #942 from rism-ch/dependabot/bundler/puma-4.3.5
* Merge pull request #944 from rism-ch/dependabot/bundler/kaminari-1.2.1
* Initial rails 5.2 setup
* Require default EDITOR_PROFILE to be set as "default"
* Disable bootsnap
* Optimize folder plucking and provide siglum_matches
* Fix Marc AwesomePrint module
* Bump websocket-extensions from 0.1.4 to 0.1.5
* Remove status.log
* Add 240 title
* Create UK Catalog
* Hide the map view
* Rename Exact Pitch
* Remove 740 tag
* Fix missing translation for label in BL
* Account for rounding errors so we do not have "orphan" sources
* Validation skip for superusers
* Fix #951 remove 563
* Fix #943 add asn to Source#710$4
* Fix #949, remove library-related tags
* Fix #950, removed 773 in the toplevel libretto and threatise template
* Fix #673, make tags repeatable
* Fix #632 rearrange fields
* Fix #631, allow creation of new items from the interface
* Fix #955 add validation for catalogue 856
* Fix #947 add missing translations
* Use rails 5.2 encrypted credentials
* Merge pull request #945 from fjorba/explicitly-set-default-editor-profile
* Merge pull request #946 from rism-ch/dependabot/bundler/websocket-extensions-0.1.5
* Fix #933, remove an old piece of code for "convolutums"
* Merge branch 'develop' of https://github.com/rism-ch/muscat into develop
* Basic landing page
* Update gemfile to add our mods to sunspot, synced with 2.5.0
* Add example configuration, documentation for export
* Add empty "export" directory
* UK Catalog customizations
* Make the rism theme a bit more customizable, NOTE: Copy again the muscat-custom scss!!
* Add logos
* Add link for UK page
* Add customizable bg for catalog
* Make the images behave better
* Make the notification email a list
* Rename the notification emails
* Job to validate a folder
* Use the right queue
* Add validate folder action
* Make proper error messages
* Rescue deleted items
* Added orcid to people
* Added guinea to people
* Add asn
* Add real news to the landing page
* Update DE langing page
* Fix german title, add links
* Basic, bad and ungly CSV exporter
* Implement parallel csv export
* Add spanish welcome text
* Add proper translations and icons
* Add csv option to catalog, fix text
* Rename icons
* Take in account missing sources
* Added Andorra to catalogue 044
* Add catalogue selection
* Make the headers human readable
* Add plate number filter, in 6 languages
* Add publisher filter (note: needs reindex)
* Fix last things in catalog uk
* Fix Missing Publisher translation
* Add text to uk page
* Fix #957, add languages
* Ignore credential file

v 6.2
* Generic method to check dependencies
* Add helper and routes to account for different #show action on controllers
* Make search history work with different catalogs
* Make the search links point to the correct controller
* Disable CSRF for API call to holdings
* Added rspec concerning dependency checks
* Replace all check dependencies with the generic one
* Intermedate skip_check_dependencies flag with AR relations
* Default values for 980
* Removed depostor from 700 holdings
* Add mysql optimizations
* Removing internal remark from people export
* Merge pull request #909 from rism-ch/dependabot/bundler/puma-4.3.3
* Merge branch '5.1-devel-bl-view' into 6.2-catalogs
* Merge branch '5.2-devel-updates' into 6.2-catalogs-merge
* Add more items with @catalog_controller
* Removed unused subfields from person editor
* Reindex print child records
* Fix #906 Restate married_to
* Fix sidebar, 5 hours of work, 2 lines of code
* New reindex script
* DB copying scripts
* Auto-update script
* Fix the empty PCH query in advanced
* Fix #912, make triggers work with 1 source
* Fix #908
* Fix #872
* Tweak .gitignore
* Make the Checkup Report modular
* New background maintainance jobs
* Hide the "pae" field
* Visualize only filtered holdings
* "exemplar" not sources, next step I18n
* Monkeypatch to filter lib_siglum in facets
* Workaround for Kaminari bug, to "span" element that gets escaped
* New & improved index error messages
* Removed unused subfields with people
* Fix #914, added some 700/710 validation closing
* Add initializer for delayed job
* Update pt.yml
* Added Country Monaco to people
* New and improved reindex job for referring items
* Modify save items job to avoid the "record not found" issue
* Merge pull request #910 from rism-ch/5.3-devel-assoc
* Optimize config file loading
* Fix #773, remove dub
* Translate more missing terms
* Add 700 / 710 validation in holding (see #914)
* Add reindex flash bar
* Update it translations
* Fix new window works error with works
* Use the new reindex job
* Add some installation notes
* Change queues
* FIx #818, by removing the truncation (which was quite long), if we find records that are unporportionately long we can truncate again
* Fix #850, add new relationships to 930
* Fix #846, add 667 field
* Fix #900, implement a simple begins_with rule
* Added some sru fields
* Make localization work in the editor
* Fix #916, remove functions
* Added country Peru to people
* Small update of PT functions
* Fix #863, reindex every time a links_to field is populated
* Fix #915
* Avoid crash if siglum is unavailable when saving source

v 6.1.1
* Fix #905, "profession" filter in People causes a crash

v 6.1
* Changed composite configuration
* Removed add group restriction from view
* Added role junior_editor
* Build batch action
* Restrict template change to admin, editors
* Restoring tags with template_change
* Restore from versions
* Merge branch '5.3-devel' of https://github.com/rism-ch/muscat into 5.3-devel-templatechange
* Fixed devel solr port
* Fix #875, annoying sru
* Fix #797, Added wf_stage to institution filer
* Fix #794, Added Guatemala to 043 institution
* Fix #801, Change 510 label with institutions
* Added wf_owner to institution filter
* Fix #803, Added 670 to institutions
* Fix #795, Added magnifying to 670 with institutions
* Added link to 856 insitution show
* Update rails minor version
* Update i18n setting, remove log rotation
* Fix #368. institution types added
* Fix #883, silence error with sprockets
* Fix #798, adding magnify to places at institution
* Change "married with" to "married to"
* Added Iraq to person country labels
* Renaming catalogue values
* Default profession for people
* Default 042 non multiple with people
* Autocomplete of 510 people changed to institutions
* Default opened 375 with people
* Added work to dashboard closing
* Added field labels with catalog
* Merge pull request #877 from rism-ch/5.3-devel-templatechange
* Merge pull request #878 from rism-ch/5.3-devel-role
* Merge pull request #879 from rism-ch/5.3-devel-composite
* Autocomplete for profession with people
* Show institution with people
* Removed other name qualifiers
* Fix #886, 852 validation related 
* Removing multi 043 with people
* Spanish translation
* Added dpt to 700 holdings
* Added prt to 710 holdings
* Dropped 373 from institutions
* Filter person 043 contrynames as select, not codes
* Clickable url with catalogues
* Update some long overdue (including an update to AA)
* Fix #791, add back transposed tones which got lost before 6.0
* Fix #849
* Fix #887, make the notification digest actually useful
* Fix #882
* Fix #851, add link
* Renaming 510 with people
* Fix #856, sru nil query
* First step in #674, remove 033 from editor
* Fix #851. remove popup menu
* Fix #860, patch crashing fractions
* Fix #839, Guidelines titles
* Fix #829, Relabeling guidelines
* Fix #889, Added other to 596
* Removed postal from people
* Relabeld 400 with people
* Fix #899, Add more items to autocomplete
* Fix #896, Update autocomplete
* Update documentation for mysql 8

v 6.0.1
* Initial fix for #896, use a version of the autocomplete which uses LIKE and not REGEXP
* Bump rack from 2.0.7 to 2.0.8
* Merge pull request #874 from rism-ch/dependabot/bundler/rack-2.0.8
* Bump nokogiri from 1.10.7 to 1.10.8
* Test if users work
* Merge pull request #893 from rism-ch/dependabot/bundler/nokogiri-1.10.8

v 6.0
* Migration scripts
* Fix #658: add Workflow to diff list, it shows the WF at the time of saving
* Fix #706. Override the default :page parameter for kaminari in comments
* Ü correction script
* Fix #791, Adding transposed modes closes
* Fix #734, Added default values for 980 closing
* Fix wrong umlaute from DNB in VIAF interface
* Fix #807, correct lavel was only in view
* Fix #774
* Experimental Awesome Print Formatter for Marc
* Rspec edition initial index check
* Mini-patch to make the composite volumes selectable too
* Add exporting option for a marc record as a text blob
* Add icons
* Updating it translations
* Fixing typos
* Fix #793 and #813
* Add mailer name
* Change TOC translation
* Adding pager to sru html
* Added download to sru html
* Add a plain marc exporter. note: REMOVE application/txt from application.rb! it is defined in the initializer
* Added protuguese to 040 closes #841
* Added prt to holdings 700 closes #819
* Fix #775, Adding incipits to libretto templates
* Fix #737, Bringing back oth to holdings 710
* Fix #836, Renamed 856 label
* Added Georgia to person country codes
* Fix #855, Added Offset printing to sources 340
* Bump loofah from 2.2.2 to 2.3.1
* Editors see level column
* Added Moldavia to people 043
* Make statistics header sticky
* Add Portoguese translation
* Bump puma from 3.12.0 to 3.12.2
* Bump rubyzip from 1.2.2 to 1.3.0
* Bump rack from 2.0.5 to 2.0.7
* Update devise
* Update bootstra-sass
* Update nokogiri
* Fix #868
* Fix #865
* Try to make logs rotate
* Fix #837
* Fix #840
* Fix #838

v 5.2.1
* Fix #774
* Fix #807, correct lavel was only in view
* Fix #789, added more top and bottom margin
* Fix #738
* Fix #744, make fields non repeatable
* Fix #772, some translation missing
* Added XB-VN to person country codes
* Fixing typos
* Updating it translation
* Updating fr translations
* Updating de translations
* Fix #811 remove fields from 593

v 5.2
* Fix #707 improved link to library siglum
* Fix #735 Added 593 for holdings
* Add triggers for Holdings
* Fix #739, reindex the parent source when saving a Holding record
* Fix #739 run reindex also when the holding is deleted
* Fix #743 and #491 remove wf_audit from the interface
* Fix #716, add possibility for help (and help text) to comments
* Fix #715, add note
* Change lit label
* Make 593 mandatory except for collections
* Fix #706. Override the default :page parameter for kaminari in comments
* Merge pull request #748 from rism-ch/5.1-opac
* Fix #752, make the new groups properly identified
* Group cleanup
* #733 Remove music periodical
* Fix #709
* Fix #708
* Rename libretto_edition_content to libretto_edition
* Rename theoretica_edition_content to theoretica_edition
* Rename the default files
* Fix #733, Removed musical periodical from 593
* Fix #566 new structure for templates
* Fix #566 Add configuration file and english text
* Fix #566 add css for <ul>
* Fix #566 fix typo
* Make edition checks more sane
* Remove redundant :update_editions and :create_editions abilities
* Move composite volume at the end
* Labels for guidlines related to #465
* Update French translations
* Fix #566 add help sidebar
* Fix #755 in progress -> unpublished
* Fix #754, Fix user can save foreign sources
* Adding work to institution migration
* Added institution relation to work
* Adding some new relation types to work
* Fix #753, Added sanskrit closes
* Added ICCU to 730 rules
* Updated configuration for composite_volume
* Remove the unniverse, add libapache2-mod-passenger
* Update Installation docs 
* Initial template module
* Fix #760, Added 'deprecated' as wf_stage
* Check tag_rate and display on index with sources
* Added a create holding method for move_tags
* Making 599 tags restoreable
* Merge pull request #762 from rism-ch/5.2-devel-composite
* Make to-from in the emails better
* Set meaningful names to all the emailers
* Fix #536, Skipping unknown tags from validation
* Added 510 in sources view
* Change ability for editors to read all folders
* Merge pull request #769 from rism-ch/5.2-devel-templatechange
* Fix SRU publish statement with solr
* Merge pull request #780 from fjorba/5.1-doc-fixes
* Fix #781 update deprecated paper trail disables
* Fix #776, Added japanese closing
* Fix #782, Allow editors to change wf_owner with DO closing
* Update Apache configuration to 2.4
* Merge pull request #758 from rism-ch/5.2-devel-works
* Merge pull request #786 from fjorba/update-apache-docs
* Update Verovio to latest release
* DE translations templates
* Changed translation and template help
* Updated rspec factory for published status

v 5.1
* Avoid mixed content in platin css
* Moving note field with work
* Adding feast to work relation
* Adding work to people relationship
* Added chronological term to works
* Added work to work relationship
* Improved display of work linked fields
* Adding more relator codes to works
* Fixed person display with works
* Added 675 data source not found to works
* Improve Spanish translation
* Merge pull request #721 from drschoener/5.1-devel
* Show wf_stage for liturgical feasts
* Add batch action to merge
* Adding some basic validation with merge
* Add reindexing after merge
* Include more auth objects
* Adding more associations with merge
* Moving merge from batch action to index action with js
* Better abilitie check and I18n
* Show publish status in index
* Cataloger can publish folder if content is in his domain
* Added status filter to person closes #714
* Fix #710: Change labels
* Merge pull request #724 from rism-ch/5.1-devel-folders
* Merge pull request #726 from rism-ch/5.1-devel-works
* Fix #718: Added chinese to literature
* Added Taiwan to literature
* Fix #717: Added basque language to sources
* Fix #731: Added destroy ability to comments for catalogers
* Fix #720: Added taiwan to people
* Added filter for 031t to work
* Removed special textincipit filter from index
* Added flash notice after merge
* Adding 500 holdings to sources index
* Merge pull request #725 from rism-ch/5.1-devel-authmerge
* Restore alterations in advanced keyboard
* Fix #736: Drop some functions from 700 holdings
* Rename oth in holdings
* Fix #737: Dropping values from 700holdings
* Fix 741: Added tibetan language

v 5.0.3
* Update Verovio to 2.0.1 (bug fix for empty beams)

v 5.0.2
* Fix bug that made authorities created from a Source buy Admin and not the current user
* Remove 240 and 852 in printed libretti validation
* Prevent a crash if a DO item is not connected
* Make sure a new DO does not create an empty DO item (unconnected)
* Display folder owner in list/show
* Make folders appear to all users again
* Make 973 visible in the Holding preview 

v 5.0.1
* Add back 563 in Source
* Make Solr bind to localhost by default

v 5.0
* Remove 563 from Source
* Add number of exemplars facet, useful for unicums

v 5.0-rc2
* Spec for openstreetmap to be reachable
* Added BNF converter for work viaf interface
* Rspec for institution view containing a map
* Fixed further wrong composers in 400 from work viaf interface
* Fix viaf import BNF converter for works
* Added work to marc configuration page
* #703 fixed creating new works after update
* Better guidelines rspec
* Add a proper "validation" icon
* Add a label for 963
* Make 930 available for non-editors
* Fix bug in notification with multiple identical patterns
* Show the notifications
* Update Tribute
* Fix tribute.js issue with firefox (max-height in css), make menu nicer, add filtering only on the beginning
* Use a regex to match the second name too
* Move 973, add scripts to test migration
* Send comments to everybody
* Add labels for 963 temp field

v 5.0-rc1
* Remove deprecated code from User
* Add global triggers
* Prettify validation action
* Add checks so not each saving triggers a mail
* Removing AR validator and adding test case
* Display of error messages in editor
* Add index on updated_at and created_at on sources to speed up time-based lookup
* Improve compatibility with crono job
* [RSPEC] adding at least one validation expectation
* [RSPEC] adding additional expecations
* [RSPEC] checking validation controller
* Solve error that makes jobs die
* Update installation for Ubuntu 18.04
* Custom Arbre component for displaying comments grouped by resource_id/type
* Allow for conversation and table view for comments
* Using namespace attribute for archiving comments
* Tab cleanup
* Fix deletion of linked sources
* Update gems
* Fix deprecation warning
* Fix missing it translations
* Drop internal remarks (599/667) from to_external
* Add cookieconsent (https://github.com/insites/cookieconsent) for testing
* Update fr.yml
* Update es.yml
* Add configurable privacy page
* Fix #678: Rename 588
* Fix #677: Rename 856
* Fix #686: Adding 400a to viaf interface 
* Fix #678: Opening 588 by default 
* Fix #676: Display map in institution fixes 
* Fix #618: Adding 980
* Server side validation in source validation config
* Fix typo in MarcValidator
* Add configuration for holding
* Fix #668: fix paper trail deprecation warning
* I18n for validation messages
* Added catalogue validation & removed AR validation
* Add options partial for 774 in editing mode to distinguish between holdings and sources
* Fix empty server rules in validation
* Add holding visualization
* Add filtering holdings can be added only to collections in the same library
* Make so that changing a holding link actually removes the 774 in the parent
* Make a JS call to validate on server
* Add cataloger rights for work model
* Labeling catalogue institution
* Fixed 041 language select with catalogue
* Fix #628 allow only one 041 with catalogue
* Fix #689 show publication status on show page
* Fix #679 Adjust 856 options in holding
* Fix #691, add proper validation to holding
* Fix #680 add validation to 856, implement validation in subfield_select
* Fix #693 added 035 to holding
* Fix #684 introducing Facecat with @mentions!
* Improved work.title
* Show work.title in source display
* Fix annoying double name in BL title
* Change static to dynamic attributes with FactoryBot
* Updated rspec for cataloger_work abilities
* Adding language selection to 040
* Fix mildly-annoying "translation missing" in per_page
* Fix #672, disable the download_links, and make sure .xml still works for single items
* Include holdings in embedded sources
* Fix #681 Add images to institutions
* Adding more holding fields to source index
* check map in institution (#319 on rism-international/task)
* Fix #55 Implement "remove from folder"
* Fix crash when a source has 690 or 691 in selection mode
* Add show link boxes to institution, person, place and standard term
* Adding more holding fields to source index
* Fix #696 Adding holding created_at to sources index
* Fix #675 Fix allow_holding for sources to include printed libretti & theoretica
* Renamed works 100 label
* Added holdings.wf_owner to sources index
* Fix #697 eneble holdings in marc_source.to_xml by default
* Fix #695 make parameters persistent when there is an error
* Merge pull request #699 from rism-ch/5.0-validation
* Merge pull request #698 from rism-ch/5.0-embedded_holdings
* Fix #700 fixes excluding record type for validation
* Fix #701 making 852 really required, not mandatory
* spec for source validator own and foreign library
* Fix #687 Add Holdings in dashboard
* Added some standard validation rules
* Insert id into master tag of editor
* Add help panel for Notifications, #638, with translations

v 4.3
* Adding migration for relations
* Fix different naming convention with SOLR/Sunspot that broke index ordering
* Updated rspec test suite readme
* Fixed lib_siglum facet for institution statistics
* Fixes undefined empty for nil with Source composer
* Removing unused birth place column from related person table partial
* Fix error when a holding has no siglum
* Push a fix for the "stack overflow" error and send an email in case of loops between source and source_id
* Fixes #660 circular dependeny between source.id and source.source_id
* Merges the more verbose circular loop version
* Make the mailer include all health messages
* Guidelines submodule pointing to master
* Adding rspec too check the correct guidelines version
* Add proper job running status; make default log leven on production back to debug
* Switch from poltergeist to headless chrome
* Merge pull request #665 from rism-ch/4.2-devel-works
* Relabel 518 fixes #659
* [RSPEC] Adding chrome headless option to start correctly
* Fixes #663 deprecated redirect_back for liturgical_feasts
* Changing all deprecated redirect_to :back in controllers fixes #667
* Fix deprecated fixnum in sru
* Removing role cataloger_prints
* Adding status abbreviation to filter closes #580
* Adding edition fingerprint 026e to fulltext search
* [RSPEC] Adding spec for new 535
* Added 710 relator code 'bsl' (bookseller)
* Added 535 to marc conf for editions closes #493
* Switched 535 to 588 closing #493
* Change port of solr port in ENV test
* [RSPEC] Improved rspecs
* Show help with holding fixes #671
* New guidelines sections
* Add some purging to make sure we do not fill the session with useless "nil" values
* Resolve JS crashing when coming from an off-site link
* Update installation for Ubuntu 18.04
* Add I18n for 856 see #669
* Adjusting labels for 856
* Fix annoying Composer display in BL, make -ch manifest https
* Fix #673, add 755 Initial Entry
* Fix #670
* Fix #640
* Fix #641
* Update the catalog all field

v 4.2.1
* Fix a bug which prevented ordering in index columns to work

v 4.2
* Optimized Source indexing
* Remove idexing of linked IDs
* #649, turn on dashboard
* #279 enable selection of result number
* Add translated "no item" message to dashboard, #649
* Activate the download_links to have .xml #587
* Better IT translation
* Enable validation for holdings
* Make dashboard first page, add localized message if a holding has no siglum
* Parallel implementation for log error script
* Lower default log level in production
* Create mailer for Model Errors
* Add validation in the batch process
* Reindex alternate names
* Make the MarcValidator safe when the marc on a source is reused without reloading
* Aggregate repeated messages in the vaidator
* Make small script for parallel re-saving of sources
* Backport spinning icon from -devel-incipit-align
* Initial holding show restyling
* Hide the "adminstration" panel in the Blacklight
* Hide redundant library information in Blacklight
* Low level marc editing scripts

v 4.1.4
* Fixes a critical issue with deleting authority files.

v 4 1 3
* Add constraints so only editors/admins can run folder actions
* Add a version trigger when wf_stage is modified.

v 4.1.2
* Fix deleting People, Places or Catalogues when used by a Holding
* Fix crash with holding when one of the above was deleted
* Fix editor AJAX error messages
* Clean up Folder Items when an element is deleted
* Show a Folder item as deleted if it was deleted and not cleaned up
* Fix warning with session#deselect

v 4.1.1
* Fix some deprecated functions is the latest update of PaperTrail
* Fix comment mail host

v 4.1
Major update to the Muscat infrastructure components:
* Rails > 5.1
* Solr 5.0
* Sunspot 2.3.0
* ActiveAdmin 1.3.0
* Blacklight 6.14
* Ruby > 2.3
Other improvements:
* Holdings with "published" as default value #611
* Finalising the dashboard
* Workaround for params.permit in folder search
* Generic box for inter-model relationships, implemented for Catalogue
* Add some basic missing translations
* Add link to catalogue in institution
* Automatic titling with translations
* Fix #591: Relabeling marc fixes
* Using sqlite3 && dropping DNB table
* Using database_cleaner && cleaning sunspot indexes
* Merge pull request #602 from paddytobias/patch-1
* #477 remove $q
* #549 more fixes
* Added 563 to holdings
* Fix #605, add checks for new migration
* Fix #606 change Author
* Fix #607
* Fix #608 change labels
* Giving all catalogers special prints abilities
* Fix #611, Changed default value of holdings
* Explicitly use .id for rails 5
* Disable hard commits and use SOLR autocommitter
* Fix old blacklight link
* Improving CSS
* Make solr documents point to /catalog and not /solr_documents
* Fix some deprecation warnings
* Fix translation missing in search history
* Update migrations to work on Rails 5
* Fix #614 Remove the old do_* tables
* Rescue if the do_* does not have a foreign key (as in when created from scratch with db:migrate)
* Fix #613 and #614 add DB backed for Holding links
* Fix disappearing incons in marc editor.
* Enlarge SOLR memory
* Make production evnv permanent
* Update loofah gem
* Properly convert self.resource_class to string
* Fix #615, Making =260 repeatable
* Add the proper jar path for linux x86
* Remove shared lim - configured in solrconfig.xml
* Update Solr Incipit search JAR for mac
* Add JAR for PC
* Add proper eager_load_paths
* Remove raise_in_transactional_callbacks
* Fix #636 ability to edit workgroup holdings
* Updated rspec according rails 5
* Rspec to check the sidebar
* Fix #633 - symbolic links to RISM logo as default large logo
* Adds localisations for basic_level I18n element
* Add required dependencies for digital object upload
* Merge pull request #645 from IntersectAustralia/digital_object-libraries
* Merge pull request #644 from IntersectAustralia/basic-level-localisations
* Merge pull request #643 from IntersectAustralia/default-large-logo
* Remove Spell Check auto-build in SOLR 5.
* Add rescue if Marc does not load when reindexing
* Update verovio
* Fix #624
* Fix #646
* Fix #634
* Fix #623 add dst
* Fix #639, remove 'gem', fix Distributor translation
* Fix #608, Correct "unkown" and remove from 042, Remove 550 $i
* Fix #621, add 657 for Music Prints
* Fix dashboard missing translations
* Fix #604 - replace 695 tag in libretto source with 595
* Update gems to silence Github warning

v 4.0.2
* Facets not properly showing in Blacklight
* Fixes 773 selection for edition content
* Properly reindexes holdings when an Institution changes siglum

v 4.0.1
* Update install documentation
* Fix incipits not showing in editor
* Fix sources with source.id == source.source_id
* Fix "any field" search which returned wrong results
* Update a couple IT and FR labels
* Limit search to collections in secondary window for collections too
* Downgrade blacklight to 5.14 or it breaks reindexing in development

v 4.0
* Incipit indexing and searching from PAE data
* GIS Visualization and localization of libraries
* Added revised templates for musical prints
* Date Parsing in Index
* Update to ActiveAdmin 1.2.1
* Update to Jquery 3
* #538: fix display of VIAF form 
* #541: added byzantine modes
* Fixed senior cataloger can edit own people
* Various adjustments for secondary literature
* Added "persian" to language codes
* Added new fields for catalogue (250 & 502)
* Show comments to marc fields on configuration page
* Template sorting & relabeling
* Removed 525 from source with edition & edition_content
* Removed watermark 592 from source with edition & edition_content
* Added holding link on source show
* Fix holding edit ability for admin & editor
* Modified holding ability for cataloger
* Show holding actions on sources view
* Show toggle of holding in source view
* Added 300 to holding & remove 740 from edition_content
* Added 597 to the default edit layout
* Added 300 to form
* Added woodcut to 340 dropdown
* Added 026 marc field for fingerprint
* Added subfield 340 to source configuration/form
* Added sidebar for holding records
* Import date range in the DB cache when needed, add date validator that sends an email
* Fixed person restricted with wf_owner
* Remove redundand URL from IIIF display
* Remove 856$u from validation
* Update "all field" fields in Blacklight, add 856z
* Module for changind IDs of authority and updating the children.
* Removed 563 from bibl. edition
* Added duplicate action to catalogue controller
* Revised 700 relator codes in catalogue
* Removed 'asn' from 710 relator codes
* Added selection box filter in catalogue
* Added growfields to catalogue
* Added catalogue validation
* Revised catalogue validation
* Added ActiveRecord validation for catalogue (duplicate name)
* Added new fields for catalogue (250 & 502)
* Update jquery-ui to 1.12
* Added country selector to cataloguer 044
* Fixed 780/785 relation in catalogue
* Added wf_audit to editor form
* Added 563 for related binding records
* Added 596 to link reference source id
* Added 599 for exporting wf_audit
* Added comment to subfields, closes #558
* Merge branch '3.7.0-devel' of https://github.com/rism-ch/muscat into 3.7.0-devel
* Add puma instead of webrick
* Update a couple more gems
* Viaf form for works
* Using marc 931 for works
* Changed 931 to 930 && hide the work section for catalogers
* Fixed lost 930 with saved records by catalogers
* #562 ransacker updates
* Fix #561
* Fix #568
* Fixed show viaf value in 100a autocomplete
* Fixed undefined method child_sources for work
* Fix #564
* Fix #569.
* Using fulltext for siglum/institution filter fixes #570
* Fix #567
* Fix #568
* Rename factory_girl to factory_bot
* Relabeling (en) templates #566
* Removed deprecated size from viaf js
* Removed duplicate user activity
* Fixed #576 deprecated size() call of jquery
* Rspec testing viaf interface
* Rspec for new truncated siglum search
* Fix for #559
* Added Westfrisian closes #574
* New guideline labels
* Disabling wf_audit in edit form
* Fixed error with empty holdings
* Fixed senior cataloguer can edit own person

v3.6.12
* Add restricted fields from -devel-rights
* #517: update validation fields
* #527: Add better warning for ungrouped tags
* #500: Add informative description to 774 link creation
* #499: add control to avoid nesting of 774 links
* #497: fix missing translations
* Fix labels for 340 and evp
* Use 340 $d instead of $a
* Make subfield_select show "missing" elements in the popup menu
* Fixed Person update access for editors if wf_owner
* Add ccp relator code
* Various migrations for CH data
* update translations

v3.6.11
* Added user role "person_editor" for restricted management of people (as sublevel of "editor")

v3.6.10
* Added migration with index of owner; dynamic field in workgroups
* Added time range to application helper
* Improved js charts
* Enhanced csv export to support multiple tables
* Modified csv export to include table header
* Fixed crash with zero sigla
* Added publishing/unpublishing statistic
* Updated Rspec examples
* #398 Implement changes
* #339, testing automatic opus number splitter
* #193, migrate some 505 to 520
* #351 Add 01 material gorup by default to 563
* #351 - fix duplicate code.
* #195 code for migrating 852 $d
* #195 make the 852 conversion work
* Substitute / with | in 245
* #401 better migration, also fix a couple errors
* Added marcutils for sru XSLT to filesystem
* Fixed typo and added vietnamese to languages
* Added viet nam to country codes
* Fix new window select so it selects the value of the fields and not the id in links-to
* Make IDs searchable through the “any field” seach
* #492 Make the date sanitization not crash 
* Added statics page for admins/editors
* Added rspec for application testing with some prototypes
* Added 852c/591a to SRU index
* Added DC, MODS and Bibframe record schema to SRU with local helper file


v3.6.9
* Prevent crash when listing sources without wf_stage
* When manipulating old version show message to the user if the version is stale
* Send validation fail mails only for Source
* When saving Sources from a job, reload them to prevent stale ones

v3.6.8
* Fix view helper for source when composer or std_title are nil
* Check for existence of lnked elements in bk reindex job, this prevents it crashing
* Add validation failure notification
* Add offline record validation
* Added SRU interface
* Added holdings to method to_external
* Added 204$n feeded by 690/383, #200
* Changed order of LAT/LON in 034 of institution
* Added rake task for executing maintenance scripts
* Fixes #486 false workgroup trigger in institution

v3.6.7
* Updated Guidelines 
* Added italian to the guideline languages
* Fix error with missing indicator in people variants
* Fix crash with invalid dates in filter, #480
* Fix crash with non-existent help files for guidelines
* Add action to delete Holdings from editing page, #463
* Adding meta tags to error pages for avoiding caching

v3.6.6
* Removed 852$q from sources
* Fix disappearing sidebar when errors were shown on non-marc models
* #475 Fix VIAF links crashing
* Many improvement to labels and translations
* Make 033 field collapsed by default
* Remove 511 field
* Rename 518 field

v3.6.5
* #468 Extented language code list
* Added timeline filter to institutions, catalogue and people
* Fix crash in people if related person has no relationship
* Updating Verovio with support for PAE chant notation (7.) as stemless quarter notes
* Add function to reset MARC to "defaults" when duplicating sources, ex. remove 774s
* #464 Fix Image permissions
* #472 Do not copy over 774 when duplicating records

v3.6.4
* #466, make sure the incipit gets the correct field index or 031 $t would be overwritten
* Exclude tag 650 from valudation

v3.6.3
------
* Add test server warning config
* Trap not found records in create new
* Send mails on Comments
* Add warning when duplicating a source duplication
* Make sure users cannot call create_new_folder without params
* Add custom event to Save job to distinguish it from other jobs
* Avoiding dashboard to crash
* Added asn to 710 relator codes
* Alter the version tracker so it should not create duplicates from scripts.
* Updating Verovio - fixes bug with fermata on rests
* Modify configuration so 041 and 650 are collection / edition
* Fix crash in DNB partial
* Disable delete button for 001 tag
* Fixed all records are unpublished by default
* #461, all records show n.a. in blacklight, add changelog
* #460, added sidebar action to unpublish records from a folder
* #453 add octaved treble clef, verovio upd. will follow
* #452 add translations for g-2
* #447 change action names
* #443: Corretly escape generated marcxml
* #446, Make users sortable
* Inaugurating the Muscat Changelog

To generate GIT changelog
-------------------------
`git log v3.6.1...HEAD --pretty=format:'%s' --reverse`
